(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d7013b8"],{2003:function(t,s,e){"use strict";e("d6cd")},"530f":function(t,s,e){"use strict";e("5c4e")},"5c4e":function(t,s,e){},6135:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"d-flex"},[e("div",{attrs:{id:"navbar-area"}},[e("AdminNav")],1),e("div",{staticClass:"row",staticStyle:{height:"100%"},attrs:{id:"all-container"}},[e("h5",{staticClass:"my-3",staticStyle:{width:"100%"}},[t._v("使用者列表")]),this.isLoading?e("Spinner"):t._e(),t._l(t.allUsers,(function(t){return e("AdminUserCard",{key:t.id,attrs:{"initial-user":t}})}))],2)])},i=[],r=e("2909"),n=(e("96cf"),e("1da1")),c=e("e04c"),o=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"usercontainer"},[a("div",{staticClass:"usercard d-flex"},[a("div",{staticClass:"row row-cols-1 row-cols-md-4 my-2"},[a("div",{staticClass:"col d-flex",staticStyle:{"max-width":"20rem"}},[a("div",{staticClass:"card"},[a("img",{staticClass:"card-img-top",attrs:{src:t._f("emptyImage")(t.user.cover),alt:"user-cover"}}),a("img",{staticClass:"user-photo",attrs:{src:t.user.avatar}}),a("div",{staticClass:"card-body"},[a("h6",{staticClass:"user-name"},[t._v(t._s(t.user.name))]),a("h6",{staticClass:"user-account"},[t._v(t._s(t.user.account))]),a("div",{staticClass:"user-status d-flex"},[a("img",{staticClass:"user-chat",attrs:{src:e("6211"),alt:"chat-icon"}}),a("p",{staticClass:"chat-number"},[t._v(t._s(t.user.tweetsCount))]),a("img",{staticClass:"user-like",attrs:{src:e("cb58"),alt:"like-icon"}}),a("p",{staticClass:"like-number"},[t._v(t._s(t.user.likesCount))])]),a("div",{staticClass:"userfollowstatus d-flex"},[a("p",{staticClass:"user-following"},[t._v(t._s(t.user.followingsCount)+"個")]),a("p",[t._v("跟隨中")]),a("p",{staticClass:"user-follower"},[t._v(t._s(t.user.followersCount)+"位")]),a("p",[t._v("跟隨者")])])])])])])])])},l=[],u=e("2708"),d={name:"AdminUserCard",mixins:[u["a"]],props:{initialUser:{type:Object,required:!0}},data:function(){return{user:{}}},methods:{fetchUser:function(){this.user=this.initialUser}},created:function(){this.fetchUser()}},f=d,m=(e("6261"),e("2877")),h=Object(m["a"])(f,o,l,!1,null,"718ca032",null),v=h.exports,g=e("2375"),C=e("be6c"),p=e("2fa3"),w={name:"AdminUsers",components:{AdminNav:c["a"],AdminUserCard:v,Spinner:g["a"]},data:function(){return{allUsers:[],isLoading:!0}},methods:{fetchAllUsers:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var e,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t.isLoading=!0,s.next=4,C["a"].getAdminUsers();case 4:e=s.sent,a=e.data,console.log(a),t.allUsers=Object(r["a"])(a),t.allUsers.sort((function(t,s){return s.tweetsCount-t.tweetsCount})),t.isLoading=!1,s.next=17;break;case 12:s.prev=12,s.t0=s["catch"](0),t.isLoading=!1,console.log("error",s.t0),p["a"].fire({icon:"error",title:"暫時無法取得用戶資料，請稍候再試！"});case 17:case"end":return s.stop()}}),s,null,[[0,12]])})))()}},created:function(){this.fetchAllUsers()}},_=w,b=(e("2003"),Object(m["a"])(_,a,i,!1,null,"697f71ff",null));s["default"]=b.exports},6261:function(t,s,e){"use strict";e("fee2")},be6c:function(t,s,e){"use strict";var a=e("2fa3"),i=function(){return localStorage.getItem("token")};s["a"]={getAdminTweets:function(){return a["b"].get("/api/admin/tweets",{headers:{Authorization:"Bearer ".concat(i())}})},getAdminUsers:function(){return a["b"].get("/api/admin/users",{headers:{Authorization:"Bearer ".concat(i())}})},deleteTweet:function(t){return a["b"].delete("/api/admin/tweets/".concat(t),{headers:{Authorization:"Bearer ".concat(i())}})}}},d6cd:function(t,s,e){},e04c:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"sidebar"},[a("div",{staticClass:"sidebar-sticky d-flex flex-column",staticStyle:{height:"100%"}},[t._m(0),a("ul",[a("li",[a("router-link",{staticClass:"nav-item d-flex",attrs:{to:"/admin/main"}},[a("img",{staticClass:"tweeticon",attrs:{src:e("5896"),alt:"推文icon"}}),a("img",{staticClass:"icon-hovered",attrs:{src:e("3d35")}}),a("h5",{staticClass:"list"},[t._v("推文清單")])])],1),a("li",[a("router-link",{staticClass:"nav-item d-flex",attrs:{to:"/admin/users"}},[a("img",{staticClass:"usericon",attrs:{src:e("cf4a"),alt:"使用者icon"}}),a("img",{staticClass:"icon-hovered",attrs:{src:e("8ec2")}}),a("h5",{staticClass:"user"},[t._v("使用者列表")])])],1),a("div",{staticClass:"logout-wrapper"},[a("router-link",{staticClass:"logout d-flex",attrs:{to:"/admin/login"},on:{click:t.handleSignOut}},[a("img",{staticClass:"logout-icon",attrs:{src:e("f300"),alt:"登出icon"}}),a("h5",{staticClass:"logout-text"},[t._v("登出")])])],1)])])])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"img-wrapper"},[e("img",{staticClass:"alphitterLogo",attrs:{src:"https://imgur.com/JVhBuMg.png",alt:"alphitterLogo"}})])}],r=e("5530"),n=e("2f62"),c={name:"AdminNavbar",computed:Object(r["a"])({},Object(n["b"])(["currentUser","isAuthenticated"])),methods:{handleSignOut:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/admin/login")}}},o=c,l=(e("530f"),e("2877")),u=Object(l["a"])(o,a,i,!1,null,"72927a4e",null);s["a"]=u.exports},fee2:function(t,s,e){}}]);
//# sourceMappingURL=chunk-5d7013b8.0906955b.js.map