(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8558012c"],{"0b86":function(e,t,r){e.exports=r.p+"img/camera.27de6b79.svg"},"0d3b":function(e,t,r){var a=r("d039"),s=r("b622"),n=r("c430"),i=s("iterator");e.exports=!a((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,a){t["delete"]("b"),r+=a+e})),n&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},"0d55":function(e,t,r){e.exports=r.p+"img/Mail.93179cc9.svg"},2547:function(e,t,r){e.exports=r.p+"img/Noti.a2ec20b8.svg"},"2b3d":function(e,t,r){"use strict";r("3ca3");var a,s=r("23e7"),n=r("83ab"),i=r("0d3b"),o=r("da84"),c=r("37e8"),l=r("6eeb"),u=r("19aa"),f=r("5135"),d=r("60da"),p=r("4df4"),h=r("6547").codeAt,v=r("5fb2"),m=r("d44e"),w=r("9861"),g=r("69f3"),b=o.URL,C=w.URLSearchParams,k=w.getState,y=g.set,x=g.getterFor("URL"),_=Math.floor,L=Math.pow,R="Invalid authority",U="Invalid scheme",T="Invalid host",j="Invalid port",O=/[A-Za-z]/,S=/[\d+-.A-Za-z]/,A=/\d/,E=/^(0x|0X)/,I=/^[0-7]+$/,P=/^\d+$/,q=/^[\dA-Fa-f]+$/,D=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,F=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,N=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\u0009\u000A\u000D]/g,$=function(e,t){var r,a,s;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return T;if(r=K(t.slice(1,-1)),!r)return T;e.host=r}else if(V(e)){if(t=v(t),D.test(t))return T;if(r=z(t),null===r)return T;e.host=r}else{if(F.test(t))return T;for(r="",a=p(t),s=0;s<a.length;s++)r+=X(a[s],Q);e.host=r}},z=function(e){var t,r,a,s,n,i,o,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),t=c.length,t>4)return e;for(r=[],a=0;a<t;a++){if(s=c[a],""==s)return e;if(n=10,s.length>1&&"0"==s.charAt(0)&&(n=E.test(s)?16:8,s=s.slice(8==n?1:2)),""===s)i=0;else{if(!(10==n?P:8==n?I:q).test(s))return e;i=parseInt(s,n)}r.push(i)}for(a=0;a<t;a++)if(i=r[a],a==t-1){if(i>=L(256,5-t))return null}else if(i>255)return null;for(o=r.pop(),a=0;a<r.length;a++)o+=r[a]*L(256,3-a);return o},K=function(e){var t,r,a,s,n,i,o,c=[0,0,0,0,0,0,0,0],l=0,u=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,l++,u=l}while(d()){if(8==l)return;if(":"!=d()){t=r=0;while(r<4&&q.test(d()))t=16*t+parseInt(d(),16),f++,r++;if("."==d()){if(0==r)return;if(f-=r,l>6)return;a=0;while(d()){if(s=null,a>0){if(!("."==d()&&a<4))return;f++}if(!A.test(d()))return;while(A.test(d())){if(n=parseInt(d(),10),null===s)s=n;else{if(0==s)return;s=10*s+n}if(s>255)return;f++}c[l]=256*c[l]+s,a++,2!=a&&4!=a||l++}if(4!=a)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;c[l++]=t}else{if(null!==u)return;f++,l++,u=l}}if(null!==u){i=l-u,l=7;while(0!=l&&i>0)o=c[l],c[l--]=c[u+i-1],c[u+--i]=o}else if(8!=l)return;return c},M=function(e){for(var t=null,r=1,a=null,s=0,n=0;n<8;n++)0!==e[n]?(s>r&&(t=a,r=s),a=null,s=0):(null===a&&(a=n),++s);return s>r&&(t=a,r=s),t},J=function(e){var t,r,a,s;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=_(e/256);return t.join(".")}if("object"==typeof e){for(t="",a=M(e),r=0;r<8;r++)s&&0===e[r]||(s&&(s=!1),a===r?(t+=r?":":"::",s=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},Q={},W=d({},Q,{" ":1,'"':1,"<":1,">":1,"`":1}),Z=d({},W,{"#":1,"?":1,"{":1,"}":1}),H=d({},Z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),X=function(e,t){var r=h(e,0);return r>32&&r<127&&!f(t,e)?e:encodeURIComponent(e)},G={ftp:21,file:null,http:80,https:443,ws:80,wss:443},V=function(e){return f(G,e.scheme)},Y=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var r;return 2==e.length&&O.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},re=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ae=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&te(t[0],!0)||t.pop()},se=function(e){return"."===e||"%2e"===e.toLowerCase()},ne=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},ie={},oe={},ce={},le={},ue={},fe={},de={},pe={},he={},ve={},me={},we={},ge={},be={},Ce={},ke={},ye={},xe={},_e={},Le={},Re={},Ue=function(e,t,r,s){var n,i,o,c,l=r||ie,u=0,d="",h=!1,v=!1,m=!1;r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(N,"")),t=t.replace(B,""),n=p(t);while(u<=n.length){switch(i=n[u],l){case ie:if(!i||!O.test(i)){if(r)return U;l=ce;continue}d+=i.toLowerCase(),l=oe;break;case oe:if(i&&(S.test(i)||"+"==i||"-"==i||"."==i))d+=i.toLowerCase();else{if(":"!=i){if(r)return U;d="",l=ce,u=0;continue}if(r&&(V(e)!=f(G,d)||"file"==d&&(Y(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=d,r)return void(V(e)&&G[e.scheme]==e.port&&(e.port=null));d="","file"==e.scheme?l=be:V(e)&&s&&s.scheme==e.scheme?l=le:V(e)?l=pe:"/"==n[u+1]?(l=ue,u++):(e.cannotBeABaseURL=!0,e.path.push(""),l=_e)}break;case ce:if(!s||s.cannotBeABaseURL&&"#"!=i)return U;if(s.cannotBeABaseURL&&"#"==i){e.scheme=s.scheme,e.path=s.path.slice(),e.query=s.query,e.fragment="",e.cannotBeABaseURL=!0,l=Re;break}l="file"==s.scheme?be:fe;continue;case le:if("/"!=i||"/"!=n[u+1]){l=fe;continue}l=he,u++;break;case ue:if("/"==i){l=ve;break}l=xe;continue;case fe:if(e.scheme=s.scheme,i==a)e.username=s.username,e.password=s.password,e.host=s.host,e.port=s.port,e.path=s.path.slice(),e.query=s.query;else if("/"==i||"\\"==i&&V(e))l=de;else if("?"==i)e.username=s.username,e.password=s.password,e.host=s.host,e.port=s.port,e.path=s.path.slice(),e.query="",l=Le;else{if("#"!=i){e.username=s.username,e.password=s.password,e.host=s.host,e.port=s.port,e.path=s.path.slice(),e.path.pop(),l=xe;continue}e.username=s.username,e.password=s.password,e.host=s.host,e.port=s.port,e.path=s.path.slice(),e.query=s.query,e.fragment="",l=Re}break;case de:if(!V(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=s.username,e.password=s.password,e.host=s.host,e.port=s.port,l=xe;continue}l=ve}else l=he;break;case pe:if(l=he,"/"!=i||"/"!=d.charAt(u+1))continue;u++;break;case he:if("/"!=i&&"\\"!=i){l=ve;continue}break;case ve:if("@"==i){h&&(d="%40"+d),h=!0,o=p(d);for(var w=0;w<o.length;w++){var g=o[w];if(":"!=g||m){var b=X(g,H);m?e.password+=b:e.username+=b}else m=!0}d=""}else if(i==a||"/"==i||"?"==i||"#"==i||"\\"==i&&V(e)){if(h&&""==d)return R;u-=p(d).length+1,d="",l=me}else d+=i;break;case me:case we:if(r&&"file"==e.scheme){l=ke;continue}if(":"!=i||v){if(i==a||"/"==i||"?"==i||"#"==i||"\\"==i&&V(e)){if(V(e)&&""==d)return T;if(r&&""==d&&(Y(e)||null!==e.port))return;if(c=$(e,d),c)return c;if(d="",l=ye,r)return;continue}"["==i?v=!0:"]"==i&&(v=!1),d+=i}else{if(""==d)return T;if(c=$(e,d),c)return c;if(d="",l=ge,r==we)return}break;case ge:if(!A.test(i)){if(i==a||"/"==i||"?"==i||"#"==i||"\\"==i&&V(e)||r){if(""!=d){var C=parseInt(d,10);if(C>65535)return j;e.port=V(e)&&C===G[e.scheme]?null:C,d=""}if(r)return;l=ye;continue}return j}d+=i;break;case be:if(e.scheme="file","/"==i||"\\"==i)l=Ce;else{if(!s||"file"!=s.scheme){l=xe;continue}if(i==a)e.host=s.host,e.path=s.path.slice(),e.query=s.query;else if("?"==i)e.host=s.host,e.path=s.path.slice(),e.query="",l=Le;else{if("#"!=i){re(n.slice(u).join(""))||(e.host=s.host,e.path=s.path.slice(),ae(e)),l=xe;continue}e.host=s.host,e.path=s.path.slice(),e.query=s.query,e.fragment="",l=Re}}break;case Ce:if("/"==i||"\\"==i){l=ke;break}s&&"file"==s.scheme&&!re(n.slice(u).join(""))&&(te(s.path[0],!0)?e.path.push(s.path[0]):e.host=s.host),l=xe;continue;case ke:if(i==a||"/"==i||"\\"==i||"?"==i||"#"==i){if(!r&&te(d))l=xe;else if(""==d){if(e.host="",r)return;l=ye}else{if(c=$(e,d),c)return c;if("localhost"==e.host&&(e.host=""),r)return;d="",l=ye}continue}d+=i;break;case ye:if(V(e)){if(l=xe,"/"!=i&&"\\"!=i)continue}else if(r||"?"!=i)if(r||"#"!=i){if(i!=a&&(l=xe,"/"!=i))continue}else e.fragment="",l=Re;else e.query="",l=Le;break;case xe:if(i==a||"/"==i||"\\"==i&&V(e)||!r&&("?"==i||"#"==i)){if(ne(d)?(ae(e),"/"==i||"\\"==i&&V(e)||e.path.push("")):se(d)?"/"==i||"\\"==i&&V(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(d)&&(e.host&&(e.host=""),d=d.charAt(0)+":"),e.path.push(d)),d="","file"==e.scheme&&(i==a||"?"==i||"#"==i))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==i?(e.query="",l=Le):"#"==i&&(e.fragment="",l=Re)}else d+=X(i,Z);break;case _e:"?"==i?(e.query="",l=Le):"#"==i?(e.fragment="",l=Re):i!=a&&(e.path[0]+=X(i,Q));break;case Le:r||"#"!=i?i!=a&&("'"==i&&V(e)?e.query+="%27":e.query+="#"==i?"%23":X(i,Q)):(e.fragment="",l=Re);break;case Re:i!=a&&(e.fragment+=X(i,W));break}u++}},Te=function(e){var t,r,a=u(this,Te,"URL"),s=arguments.length>1?arguments[1]:void 0,i=String(e),o=y(a,{type:"URL"});if(void 0!==s)if(s instanceof Te)t=x(s);else if(r=Ue(t={},String(s)),r)throw TypeError(r);if(r=Ue(o,i,null,t),r)throw TypeError(r);var c=o.searchParams=new C,l=k(c);l.updateSearchParams(o.query),l.updateURL=function(){o.query=String(c)||null},n||(a.href=Oe.call(a),a.origin=Se.call(a),a.protocol=Ae.call(a),a.username=Ee.call(a),a.password=Ie.call(a),a.host=Pe.call(a),a.hostname=qe.call(a),a.port=De.call(a),a.pathname=Fe.call(a),a.search=Ne.call(a),a.searchParams=Be.call(a),a.hash=$e.call(a))},je=Te.prototype,Oe=function(){var e=x(this),t=e.scheme,r=e.username,a=e.password,s=e.host,n=e.port,i=e.path,o=e.query,c=e.fragment,l=t+":";return null!==s?(l+="//",Y(e)&&(l+=r+(a?":"+a:"")+"@"),l+=J(s),null!==n&&(l+=":"+n)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?i[0]:i.length?"/"+i.join("/"):"",null!==o&&(l+="?"+o),null!==c&&(l+="#"+c),l},Se=function(){var e=x(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(a){return"null"}return"file"!=t&&V(e)?t+"://"+J(e.host)+(null!==r?":"+r:""):"null"},Ae=function(){return x(this).scheme+":"},Ee=function(){return x(this).username},Ie=function(){return x(this).password},Pe=function(){var e=x(this),t=e.host,r=e.port;return null===t?"":null===r?J(t):J(t)+":"+r},qe=function(){var e=x(this).host;return null===e?"":J(e)},De=function(){var e=x(this).port;return null===e?"":String(e)},Fe=function(){var e=x(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ne=function(){var e=x(this).query;return e?"?"+e:""},Be=function(){return x(this).searchParams},$e=function(){var e=x(this).fragment;return e?"#"+e:""},ze=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(n&&c(je,{href:ze(Oe,(function(e){var t=x(this),r=String(e),a=Ue(t,r);if(a)throw TypeError(a);k(t.searchParams).updateSearchParams(t.query)})),origin:ze(Se),protocol:ze(Ae,(function(e){var t=x(this);Ue(t,String(e)+":",ie)})),username:ze(Ee,(function(e){var t=x(this),r=p(String(e));if(!ee(t)){t.username="";for(var a=0;a<r.length;a++)t.username+=X(r[a],H)}})),password:ze(Ie,(function(e){var t=x(this),r=p(String(e));if(!ee(t)){t.password="";for(var a=0;a<r.length;a++)t.password+=X(r[a],H)}})),host:ze(Pe,(function(e){var t=x(this);t.cannotBeABaseURL||Ue(t,String(e),me)})),hostname:ze(qe,(function(e){var t=x(this);t.cannotBeABaseURL||Ue(t,String(e),we)})),port:ze(De,(function(e){var t=x(this);ee(t)||(e=String(e),""==e?t.port=null:Ue(t,e,ge))})),pathname:ze(Fe,(function(e){var t=x(this);t.cannotBeABaseURL||(t.path=[],Ue(t,e+"",ye))})),search:ze(Ne,(function(e){var t=x(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ue(t,e,Le)),k(t.searchParams).updateSearchParams(t.query)})),searchParams:ze(Be),hash:ze($e,(function(e){var t=x(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ue(t,e,Re)):t.fragment=null}))}),l(je,"toJSON",(function(){return Oe.call(this)}),{enumerable:!0}),l(je,"toString",(function(){return Oe.call(this)}),{enumerable:!0}),b){var Ke=b.createObjectURL,Me=b.revokeObjectURL;Ke&&l(Te,"createObjectURL",(function(e){return Ke.apply(b,arguments)})),Me&&l(Te,"revokeObjectURL",(function(e){return Me.apply(b,arguments)}))}m(Te,"URL"),s({global:!0,forced:!i,sham:!n},{URL:Te})},3261:function(e,t,r){},4218:function(e,t,r){"use strict";r("4806")},4806:function(e,t,r){},"4a39":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"navbar-area",attrs:{id:"navbar-area"}},[a("Navbar")],1),a("div",{staticClass:"main-area",attrs:{id:"main-area"}},[a("div",{staticClass:"upper-area d-flex align-items-top"},[a("div",{staticClass:"upper-area-content d-flex align-items-center"},[a("router-link",{attrs:{to:"/main"}},[a("span",{staticClass:"mr-4",staticStyle:{color:"#000000"}},[e._v("←")])]),a("div",{staticClass:"user"},[a("strong",{staticClass:"name"},[e._v(e._s(e.user.name))]),a("p",{staticClass:"tweets-count small"},[e._v(e._s(e.user.tweetsCount)+" 推文")])])],1)]),a("main",[a("div",{staticClass:"info-area d-flex flex-column align-items-end pb-3"},[a("div",{staticClass:"image-wrapper"},[""===e.cover&&"0"===e.user.cover?a("div",{staticClass:"cover-cropper"},[a("img",{staticClass:"cover",attrs:{src:r("87d4")}})]):a("div",{staticClass:"cover-cropper"},[a("img",{staticClass:"cover",attrs:{src:e.user.cover}})]),""===e.avatar&&null===e.user.avatar?a("div",{staticClass:"image-cropper"},[a("img",{staticClass:"avatar",attrs:{src:r("c87e")}})]):a("div",{staticClass:"image-cropper"},[a("img",{staticClass:"avatar",attrs:{src:e.user.avatar}})])]),e.user.isSelf?a("div",{staticClass:"edit-btn mt-2 mr-2",attrs:{"data-toggle":"modal","data-target":"#postEdit"}},[a("strong",[e._v("編輯個人資料")])]):a("div",{staticClass:"contact-wrapper d-flex align-items-center mt-2"},[e._m(0),e._m(1),a("div",{staticClass:"followship mr-3"},[e.user.isFollowed?a("div",{staticClass:"following"},[e._v("正在跟隨")]):e._e(),e.user.isFollowed?a("div",{staticClass:"deleteFollow",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.deleteFollow(e.user.id)}}},[e._v(" 取消跟隨 ")]):a("div",{staticClass:"unfollow",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.follow(e.user.id)}}},[e._v(" 跟隨 ")])])])]),a("div",{staticClass:"intro-wrapper px-2"},[a("strong",{staticClass:"name"},[e._v(e._s(e.user.name))]),a("p",{staticClass:"account"},[e._v(e._s(e.user.account))]),a("p",{staticClass:"introduction"},[e._v(e._s(e.user.introduction))])]),a("div",{staticClass:"followship-wrapper p-2 d-flex"},[a("router-link",{attrs:{to:{name:"user-followlist",params:{id:e.user.id,followship:"followings"}}}},[a("p",{staticClass:"followings-count mr-2"},[e._v(" "+e._s(e.user.followingsCount)+"個跟隨中 ")])]),a("router-link",{attrs:{to:{name:"user-followlist",params:{id:e.user.id,followship:"followers"}}}},[a("p",{staticClass:"followers-count"},[e._v(e._s(e.user.followersCount)+"位跟隨者")])])],1),a("div",{staticClass:"modal fade",attrs:{id:"postEdit",tabindex:"-1",role:"dialog","aria-labelledby":"postEditLabel","aria-hidden":"true"}},[a("form",{staticClass:"w-100 d-flex flex-column align-items-end",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleEditSubmit(t)}}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:e.cancelEdit}},[a("img",{attrs:{src:r("61da")}})]),a("strong",{staticClass:"title"},[e._v("編輯個人資料")]),a("button",{staticClass:"btn btn-primary post",attrs:{type:"submit",disabled:this.name.length>50||this.introduction.length>160||0===this.name.length}},[e._v(" 儲存 ")])]),a("div",{staticClass:"modal-body px-0"},[a("div",{staticClass:"edit-cover"},[a("div",{staticClass:"cover-edit-wrapper d-flex"},["0"===e.user.cover&&""===e.cover?a("img",{staticClass:"cover-sample",attrs:{src:r("87d4"),alt:"cover-default"}}):e._e(),""!==e.cover?a("img",{staticClass:"cover-sample",attrs:{src:this.cover,alt:"cover-thumbnail"}}):a("img",{staticClass:"edit-cover-photo",attrs:{src:e.user.cover,alt:"present-cover"}}),a("input",{staticClass:"new-cover-image",attrs:{type:"file",id:"cover-image",name:"cover",accept:"image/png, image/jpeg, image/gif, image/jpg"},on:{change:e.handleCoverChange}}),a("img",{staticClass:"cover-camera",attrs:{src:r("0b86")}}),a("img",{staticClass:"cover-plus",attrs:{src:r("8a37"),alt:""}}),a("div",{staticClass:"cancel-edit"},[a("img",{staticClass:"cancal-edit",attrs:{src:r("be29"),alt:""},on:{click:e.cancelEdit}})])]),a("div",{staticClass:"avatar-edit-wrapper"},[a("div",{staticClass:"edit-avatar"},[""===e.avatar&&null===e.user.avatar?a("img",{staticClass:"avartar-sample",attrs:{src:r("c87e"),alt:"avatar-default"}}):e._e(),""!==e.avatar?a("img",{staticClass:"avatar-sample",attrs:{src:this.avatar,alt:"avatar-thumbnail"}}):a("img",{staticClass:"edit-avatar-photo",attrs:{src:e.user.avatar,alt:"present-avatar"}}),a("input",{staticClass:"new-avatar-image",attrs:{type:"file",id:"avatar-image",name:"avatar",accept:"image/png, image/jpeg, image/gif, image/jpg"},on:{change:e.handleAvatarChange}}),a("img",{staticClass:"avatar-camera",attrs:{src:r("0b86")}}),a("img",{staticClass:"avatar-plus",attrs:{src:r("8a37"),alt:"avatar-plus"}})])])]),a("div",{staticClass:"edit-area"},[a("div",{staticClass:"edit-title"},[e._v("名稱")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"text-name w-100",attrs:{name:"name",id:"text-name",cols:"20",rows:"1",placeholder:e.user.name},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("div",{staticClass:"name-edit-num-limit"},[e._v(" "+e._s(this.name.length)+"/50 ")]),a("div",{staticClass:"edit-title"},[e._v("自我介紹")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.introduction,expression:"introduction"}],staticClass:"text-intro w-100",attrs:{name:"introduction",id:"text-intro",cols:"20",rows:"6",placeholder:e.user.introduction},domProps:{value:e.introduction},on:{input:function(t){t.target.composing||(e.introduction=t.target.value)}}}),a("div",{staticClass:"intro-edit-num-limit"},[e._v(" "+e._s(this.introduction.length)+"/160 ")])])])])])])]),a("div",{staticClass:"tab-area"},[a("ul",{staticClass:"nav nav-tabs pt-2"},[a("li",{staticClass:"nav-item",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleTab(null)}}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-profile",params:{id:e.user.id}}}},[e._v("推文")])],1),a("li",{staticClass:"nav-item",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleTab("with_replies")}}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-profile",params:{id:e.user.id,category:"with_replies"}}}},[e._v("推文與回覆")])],1),a("li",{staticClass:"nav-item",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleTab("likes")}}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-profile",params:{id:e.user.id,category:"likes"}}}},[e._v("喜歡的內容")])],1)])]),a("div",{staticClass:"tweets-area"},[e.nowTabbed?e._e():a("div",{staticClass:"user-tweets-panel"},[e.isLoading?a("Spinner"):e.isLoading||e.tweets.length?e.isLoading?e._e():e._l(e.tweets,(function(t){return a("UserTweets",{key:t.id,attrs:{"initial-tweet":t,user:e.user,"current-user":e.currentUser}})})):a("div",{staticClass:"no-data"},[a("h3",[e._v("尚未建立任何推文")])])],2),"with_replies"===e.nowTabbed?a("div",{staticClass:"user-tweets-replies-panel"},[e.isLoading?a("Spinner"):e.isLoading||e.replies.length?e.isLoading?e._e():e._l(e.replies,(function(t){return a("UserTweetsReplies",{key:t.id,attrs:{"initial-reply":t,user:e.user,"current-user":e.currentUser}})})):a("div",{staticClass:"no-data"},[a("h3",[e._v("尚未回覆任何推文")])])],2):e._e(),"likes"===e.nowTabbed?a("div",{staticClass:"user-liked-tweets-panel"},[e.isLoading?a("Spinner"):e.isLoading||e.likes.length?e.isLoading?e._e():e._l(e.likes,(function(t){return a("UserLikedTweets",{key:t.id,attrs:{"initial-like":t,"current-user":e.currentUser}})})):a("div",{staticClass:"no-data"},[a("h3",[e._v("尚未有喜愛的推文")])])],2):e._e()])])]),a("div",{staticClass:"follow-recommend-area",attrs:{id:"follow-recommend-area"}},[a("FollowRecommend")],1)])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mail"},[a("img",{attrs:{src:r("0d55")}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"noti mx-2"},[a("img",{attrs:{src:r("2547")}})])}];r("4de4"),r("4160"),r("b0c0"),r("d3b7"),r("6062"),r("3ca3"),r("498a"),r("159b"),r("ddb0"),r("2b3d");function n(e){if(Array.isArray(e))return e}r("a4d3"),r("e01a"),r("d28b");function i(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],a=!0,s=!1,n=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done);a=!0)if(r.push(i.value),t&&r.length===t)break}catch(c){s=!0,n=c}finally{try{a||null==o["return"]||o["return"]()}finally{if(s)throw n}}return r}}var o=r("06c5");function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return n(e)||i(e,t)||Object(o["a"])(e,t)||c()}function u(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Object(o["a"])(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,s=function(){};return{s:s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,n=e},f:function(){try{i||null==r["return"]||r["return"]()}finally{if(c)throw n}}}}var f=r("2909"),d=(r("96cf"),r("1da1")),p=r("5530"),h=r("d178"),v=r("5c44"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tweet-wrapper"},[a("router-link",{attrs:{to:{name:"reply-list",params:{id:e.tweet.id}}}},[a("div",{staticClass:"tweet d-flex p-2"},[a("div",{staticClass:"image-area mr-3"},[a("router-link",{attrs:{to:{name:"user-profile",params:{id:e.tweet.userId}}}},[a("div",{staticClass:"image-cropper"},[a("img",{staticClass:"avatar",attrs:{src:e._f("emptyImage")(e.tweet.userAvatar)}})])])],1),a("div",{staticClass:"content-area w-100"},[a("div",{staticClass:"post-info d-flex"},[a("router-link",{attrs:{to:{name:"user-profile",params:{id:e.tweet.userId}}}},[a("strong",{staticClass:"name"},[e._v(e._s(e.tweet.userName))])]),a("p",{staticClass:"account ml-1"},[e._v(e._s(e.tweet.userAccount))]),a("p",{staticClass:"created-at"},[e._v("・"+e._s(e._f("fromNow")(e.tweet.createdAt)))]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.user.isSelf,expression:"user.isSelf"}],staticClass:"setting-control"},[a("div",{ref:"button",staticClass:"dot-wrapper",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleList(t)}}},[a("span",{staticClass:"setting-dot"})])])],1),a("div",{staticClass:"post-content"},[a("p",{staticStyle:{"word-wrap":"break-word"}},[e._v(e._s(e.tweet.description))])]),a("div",{staticClass:"post-engage d-flex"},[a("div",{staticClass:"reply-control d-flex mr-3"},[a("img",{attrs:{src:r("6211")}}),a("p",{staticClass:"reply-counts mb-0 ml-2"},[e._v(e._s(e.tweet.repliesCount))])]),e.isSelfTweet()?e._e():a("div",{staticClass:"like-control d-flex ml-3"},[e.tweet.isLike?a("img",{staticClass:"like-icon",attrs:{src:r("74bb")},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.deleteLike(e.tweet.id)}}}):a("img",{staticClass:"like-icon",attrs:{src:r("cb58")},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addLike(e.tweet.id)}}}),e.tweet.isLike?a("p",{staticClass:"red like-counts mb-0 ml-2"},[e._v(" "+e._s(e.tweet.likesCount)+" ")]):a("p",{staticClass:"like-counts mb-0 ml-2"},[e._v(" "+e._s(e.tweet.likesCount)+" ")])])])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.listPopup,expression:"listPopup"},{name:"closable",rawName:"v-closable",value:{exclude:["button"],handler:"onClose"},expression:"{\n      exclude: ['button'],\n      handler: 'onClose',\n    }"}],staticClass:"list-wrapper"},[e._m(0)]),a("div",{staticClass:"modal fade",attrs:{id:"editTweetModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"user-related d-flex"},[a("div",{staticClass:"image-area mr-3"},[a("div",{staticClass:"image-cropper"},[a("img",{staticClass:"avatar",attrs:{src:e._f("emptyImage")(e.tweet.userAvatar)}})])]),a("div",{staticClass:"post-info d-flex"},[a("strong",{staticClass:"name"},[e._v(e._s(e.tweet.userName))]),a("p",{staticClass:"account ml-1"},[e._v(e._s(e.tweet.userAccount))]),a("p",{staticClass:"created-at"},[e._v("・"+e._s(e._f("fromNow")(e.tweet.createdAt)))])])]),a("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.saveEdit(e.tweet.id,e.tweet.description)}}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.tweet.description,expression:"tweet.description"}],staticClass:"w-100 mt-3",attrs:{name:"description",id:"description",cols:"20",rows:"4"},domProps:{value:e.tweet.description},on:{input:function(t){t.target.composing||e.$set(e.tweet,"description",t.target.value)}}}),a("button",{staticClass:"save-edit btn btn-primary btn-block",attrs:{type:"submit"}},[e._v(" 儲存 ")])])])])])])],1)},w=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-group setting-list"},[a("button",{staticClass:"btn list-group-item list-item edit-tweet d-flex align-items-center",attrs:{type:"button","data-toggle":"modal","data-target":"#editTweetModal"}},[a("img",{staticClass:"list-icon",attrs:{src:r("d9ae")}}),a("p",{staticClass:"mb-0"},[e._v("編輯")])]),a("button",{staticClass:"list-group-item list-item delete-tweet d-flex align-items-center"},[a("img",{staticClass:"list-icon",attrs:{src:r("8cfb")}}),a("p",{staticClass:"mb-0"},[e._v("刪除")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-header"},[r("h5",{staticClass:"modal-title",attrs:{id:"editTweetModalLabel"}},[e._v("編輯推文")]),r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],g=r("2708"),b=r("c058"),C=r("6783"),k=r("2fa3"),y={name:"UserTweets",mixins:[g["a"],g["b"]],props:{initialTweet:{type:Object,required:!0},user:{type:Object,required:!0},currentUser:{type:Object,required:!0}},data:function(){return{tweet:{id:-1,userId:-1,description:"",createdAt:"",userName:"",userAccount:"",userAvatar:"",repliesCount:-1,likesCount:-1,isLike:!1},listPopup:!1,isSelfTweet:function(){return this.currentUser.id===this.tweet.userId}}},methods:{fetchData:function(){var e=this.initialTweet,t=e.id,r=e.UserId,a=e.description,s=e.createdAt,n=e.repliesCount,i=e.likesCount,o=e.isLike,c=this.user,l=c.name,u=c.account,f=c.avatar;this.tweet=Object(p["a"])(Object(p["a"])({},this.tweet),{},{id:t,userId:r,description:a,createdAt:s,userName:l,userAccount:u,userAvatar:f,repliesCount:n,likesCount:i,isLike:o})},addLike:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b["a"].like({tweetId:e});case 3:a=r.sent,console.log(a),t.tweet=Object(p["a"])(Object(p["a"])({},t.tweet),{},{isLike:!0,likesCount:t.tweet.likesCount+1}),r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0),k["a"].fire({icon:"error",title:"無法點擊愛心，請稍後再試"});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()},deleteLike:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b["a"].unlike({tweetId:e});case 3:a=r.sent,console.log(a),t.tweet=Object(p["a"])(Object(p["a"])({},t.tweet),{},{isLike:!1,likesCount:t.tweet.likesCount-1}),r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0),k["a"].fire({icon:"error",title:"無法收回愛心，請稍後再試"});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()},saveEdit:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,C["a"].update(e,{description:t});case 3:if(a=r.sent,"OK"===a.statusText){r.next=6;break}throw new Error(a.statusText);case 6:console.log(a),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),console.log(r.t0),k["a"].fire({icon:"error",title:"無法編輯推文，請稍後再試"});case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},toggleList:function(){this.listPopup=!this.listPopup},onClose:function(){this.listPopup=!1}},created:function(){this.fetchData()},beforeRouteUpdate:function(){this.fetchData()}},x=y,_=(r("4218"),r("2877")),L=Object(_["a"])(x,m,w,!1,null,"6ac99555",null),R=L.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tweet-wrapper"},[a("router-link",{attrs:{to:{name:"reply-list",params:{id:e.tweet.id}}}},[a("div",{staticClass:"tweet d-flex p-2"},[a("div",{staticClass:"image-area mr-3"},[a("router-link",{attrs:{to:{name:"user-profile",params:{id:e.tweet.userId}}}},[a("div",{staticClass:"image-cropper"},[a("img",{staticClass:"avatar",attrs:{src:e._f("emptyImage")(e.tweet.userAvatar)}})])])],1),a("div",{staticClass:"content-area w-100"},[a("div",{staticClass:"post-info d-flex"},[a("router-link",{attrs:{to:{name:"user-profile",params:{id:e.tweet.userId}}}},[a("strong",{staticClass:"name"},[e._v(e._s(e.tweet.userName))])]),a("p",{staticClass:"account ml-1"},[e._v(e._s(e.tweet.userAccount))]),a("p",{staticClass:"created-at"},[e._v("・"+e._s(e._f("fromNow")(e.tweet.createdAt)))])],1),a("div",{staticClass:"post-content"},[a("p",{staticStyle:{"word-wrap":"break-word"}},[e._v(e._s(e.tweet.description))])]),a("div",{staticClass:"post-engage d-flex"},[a("div",{staticClass:"reply-control d-flex mr-3"},[a("a",[a("img",{attrs:{src:r("6211")}})]),a("p",{staticClass:"reply-counts mb-0 ml-2"},[e._v(e._s(e.tweet.replisdCount))])]),e.isSelfTweet()?e._e():a("div",{staticClass:"like-control d-flex ml-3"},[e.tweet.isLike?a("img",{staticClass:"like-icon",attrs:{src:r("74bb")},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.deleteLike(e.tweet.id)}}}):a("img",{staticClass:"like-icon",attrs:{src:r("cb58")},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addLike(e.tweet.id)}}}),e.tweet.isLike?a("p",{staticClass:"red like-counts mb-0 ml-2"},[e._v(" "+e._s(e.tweet.likesCount)+" ")]):a("p",{staticClass:"like-counts mb-0 ml-2"},[e._v(" "+e._s(e.tweet.likesCount)+" ")])])])])])])],1)},T=[],j={name:"UserLikedTweets",mixins:[g["a"],g["b"]],props:{initialLike:{type:Object,required:!0},currentUser:{type:Object,required:!0}},data:function(){return{tweet:{id:-1,userId:-1,description:"",createdAt:"",userName:"",userAccount:"",userAvatar:"",repliesCount:-1,likesCount:-1,isLike:!1},isSelfTweet:function(){return this.currentUser.id===this.tweet.userId}}},methods:{fetchData:function(){var e=this.initialLike.Tweet,t=e.id,r=e.UserId,a=e.description,s=e.createdAt,n=e.repliesCount,i=e.likesCount,o=e.isLike,c=this.initialLike.Tweet.User,l=c.name,u=c.account,f=c.avatar;this.tweet=Object(p["a"])(Object(p["a"])({},this.tweet),{},{id:t,userId:r,description:a,createdAt:s,userName:l,userAccount:u,userAvatar:f,repliesCount:n,likesCount:i,isLike:o})},addLike:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b["a"].like({tweetId:e});case 3:a=r.sent,console.log(a),t.tweet=Object(p["a"])(Object(p["a"])({},t.tweet),{},{isLike:!0,likesCount:t.tweet.likesCount+1}),r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0),k["a"].fire({icon:"error",title:"無法點擊愛心，請稍後再試"});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()},deleteLike:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b["a"].unlike({tweetId:e});case 3:a=r.sent,console.log(a),t.tweet=Object(p["a"])(Object(p["a"])({},t.tweet),{},{isLike:!1,likesCount:t.tweet.likesCount-1}),r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0),k["a"].fire({icon:"error",title:"無法收回愛心，請稍後再試"});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()}},created:function(){this.fetchData()}},O=j,S=(r("b436"),Object(_["a"])(O,U,T,!1,null,"6a31cab2",null)),A=S.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"tweet-wrapper"},[a("router-link",{staticClass:"router-link",attrs:{to:{name:"reply-list",params:{id:e.presentTweet.id}}}},[a("div",{staticClass:"tweet d-flex p-2"},[a("div",{staticClass:"image-area mr-3"},[a("router-link",{attrs:{to:{name:"user-profile",params:{id:e.presentTweet.User.id}}}},[a("div",{staticClass:"image-cropper"},[a("img",{staticClass:"avatar",attrs:{src:e._f("emptyImage")(e.presentTweet.User.avatar)}})])])],1),a("div",{staticClass:"content-area w-100"},[a("div",{staticClass:"post-info d-flex"},[a("router-link",{attrs:{to:{name:"user-profile",params:{id:e.presentTweet.User.id}}}},[a("strong",{staticClass:"name"},[e._v(e._s(e.presentTweet.User.name))])]),a("p",{staticClass:"account ml-1"},[e._v(e._s(e.presentTweet.User.account))]),a("p",{staticClass:"created-at"},[e._v("・"+e._s(e._f("fromNow")(e.presentTweet.createdAt)))])],1),a("div",{staticClass:"post-content"},[a("p",{staticStyle:{"word-wrap":"break-word"}},[e._v(" "+e._s(e.presentTweet.description)+" ")])]),a("div",{staticClass:"post-engage d-flex"},[a("div",{staticClass:"reply-control d-flex mr-3"},[a("router-link",{attrs:{to:{name:"reply-list",params:{id:e.presentTweet.id}}}},[a("img",{attrs:{src:r("6211")}})]),a("p",{staticClass:"reply-counts mb-0 ml-2"},[e._v(" "+e._s(e.presentTweet.repliesCount)+" ")])],1),e.isSelfTweet()?e._e():a("div",{staticClass:"like-control d-flex ml-3"},[e.presentTweet.isLike?a("img",{staticClass:"like-icon",attrs:{src:r("74bb")},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.deleteLike(e.presentTweet.id)}}}):a("img",{staticClass:"like-icon",attrs:{src:r("cb58")},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addLike(e.presentTweet.id)}}}),e.presentTweet.isLike?a("p",{staticClass:"red like-counts mb-0 ml-2"},[e._v(" "+e._s(e.presentTweet.likesCount)+" ")]):a("p",{staticClass:"like-counts mb-0 ml-2"},[e._v(" "+e._s(e.presentTweet.likesCount)+" ")])])])])])])],1),a("div",{staticClass:"reply-container"},[a("div",{staticClass:"reply-template d-flex p-2"},[a("div",{staticClass:"image-cropper"},[a("img",{staticClass:"avatar",attrs:{src:e._f("emptyImage")(e.user.avatar)}})]),a("div",{staticClass:"reply-all ml-3"},[a("div",{staticClass:"user-profile d-flex"},[a("div",{staticClass:"user-name"},[e._v(e._s(e.user.name))]),a("div",{staticClass:"user-account"},[e._v(e._s(e.user.account))]),a("div",{staticClass:"dot"},[e._v("・")]),a("div",{staticClass:"createdAt"},[e._v(e._s(e._f("fromNow")(e.initialReply.createdAt)))])]),a("div",{staticClass:"user-reply d-flex"},[a("div",{staticClass:"reply-literal"},[e._v("回覆")]),a("router-link",{attrs:{to:{name:"user-profile",params:{id:e.presentTweet.User.id}}}},[a("div",{staticClass:"reply-account"},[e._v(e._s(e.presentTweet.User.account))])])],1),a("div",{staticClass:"reply-content"},[e._v(e._s(e.initialReply.comment))])])])]),a("div",{staticClass:"divider"})])},I=[],P={name:"UserTweetsReplies",mixins:[g["a"],g["b"]],props:{initialReply:{type:Object,required:!0},user:{type:Object,required:!0},currentUser:{type:Object,required:!0}},data:function(){return{presentTweet:{},isSelfTweet:function(){return this.currentUser.id===this.presentTweet.UserId}}},methods:{fetchTweet:function(){var e=this.initialReply.Tweet;this.presentTweet=Object(p["a"])({},e)},addLike:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b["a"].like({tweetId:e});case 3:a=r.sent,console.log(a),t.presentTweet=Object(p["a"])(Object(p["a"])({},t.presentTweet),{},{isLike:!0,likesCount:t.presentTweet.likesCount+1}),r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0),k["a"].fire({icon:"error",title:"無法點擊愛心，請稍後再試"});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()},deleteLike:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b["a"].unlike({tweetId:e});case 3:a=r.sent,console.log(a),t.presentTweet=Object(p["a"])(Object(p["a"])({},t.presentTweet),{},{isLike:!1,likesCount:t.presentTweet.likesCount-1}),r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0),k["a"].fire({icon:"error",title:"無法收回愛心，請稍後再試"});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()}},watch:{initialReply:function(e){var t=e.Tweet;this.presentTweet=Object(p["a"])(Object(p["a"])({},this.presentTweet),t)}},created:function(){this.fetchTweet()}},q=P,D=(r("d642"),Object(_["a"])(q,E,I,!1,null,"78f0c4e4",null)),F=D.exports,N=r("1157"),B=r.n(N),$=r("2f62"),z=r("2375"),K=r("4cce"),M=r("b025"),J={name:"UserProfile",components:{Navbar:h["a"],FollowRecommend:v["a"],UserTweets:R,UserLikedTweets:A,UserTweetsReplies:F,Spinner:z["a"]},mixins:[g["a"]],computed:Object(p["a"])({},Object($["b"])(["currentUser","isAuthenticated"])),data:function(){return{tweets:[],likes:[],replies:[],user:{},nowTabbed:this.$route.params.category,cover:"",avatar:"",name:"",introduction:"",isLoading:!0}},methods:{fetchUserTweets:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,K["a"].readTweets({id:e});case 3:if(a=r.sent,"OK"===a.statusText){r.next=6;break}throw new Error(a.statusText);case 6:s=a.data,t.tweets=Object(f["a"])(s),t.isLoading=!1,r.next=16;break;case 11:r.prev=11,r.t0=r["catch"](0),t.isLoading=!1,console.log(r.t0),k["a"].fire({icon:"error",title:"無法取得使用者推文，請稍後再試"});case 16:case"end":return r.stop()}}),r,null,[[0,11]])})))()},fetchUserLikes:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,K["a"].readLikes({id:e});case 3:if(a=r.sent,console.log(a),"OK"===a.statusText){r.next=7;break}throw new Error(a.statusText);case 7:s=a.data,t.likes=Object(f["a"])(s),t.isLoading=!1,r.next=17;break;case 12:r.prev=12,r.t0=r["catch"](0),t.isLoading=!1,console.log(r.t0),k["a"].fire({icon:"error",title:"無法取得使用者喜歡的內容，請稍後再試"});case 17:case"end":return r.stop()}}),r,null,[[0,12]])})))()},fetchUser:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,K["a"].readUser({id:e});case 3:if(a=r.sent,"OK"===a.statusText){r.next=6;break}throw new Error(a.statusText);case 6:s=a.data,t.user=Object(p["a"])(Object(p["a"])({},t.user),s),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0),k["a"].fire({icon:"error",title:"無法取得使用者資料，請稍後再試"});case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()},fetchReplies:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,K["a"].readRepliedTweets({id:e});case 3:if(a=r.sent,"OK"===a.statusText){r.next=6;break}throw new Error(a.statusText);case 6:s=a.data,n=new Set,t.replies=s.filter((function(e){return!n.has(e.TweetId)&&n.add(e.TweetId)})),t.isLoading=!1,r.next=17;break;case 12:r.prev=12,r.t0=r["catch"](0),t.isLoading=!1,console.log(r.t0),k["a"].fire({icon:"error",title:"無法取得使用者推文與回覆，請稍後再試"});case 17:case"end":return r.stop()}}),r,null,[[0,12]])})))()},toggleTab:function(e){this.nowTabbed=e},follow:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,M["a"].follow({id:e});case 3:if(a=r.sent,"OK"===a.statusText){r.next=6;break}throw new Error(a.statusText);case 6:console.log(a),t.user=Object(p["a"])(Object(p["a"])({},t.user),{},{isFollowed:!0}),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0),k["a"].fire({icon:"error",title:"無法成功追蹤，請稍後再試"});case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()},deleteFollow:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,M["a"].unfollow({id:e});case 3:if(a=r.sent,"OK"===a.statusText){r.next=6;break}throw new Error(a.statusText);case 6:console.log(a),t.user=Object(p["a"])(Object(p["a"])({},t.user),{},{isFollowed:!1}),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0),k["a"].fire({icon:"error",title:"無法取消追蹤，請稍後再試"});case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()},handleEditSubmit:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a,s,n,i,o,c,f,d,h,v,m,w,g,b,C,y;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,t.name.trim()){r.next=3;break}return r.abrupt("return");case 3:a=e.target,s=new FormData(a),n=u(s.entries());try{for(n.s();!(i=n.n()).done;)o=l(i.value,2),c=o[0],f=o[1],console.log(c+":"+f)}catch(x){n.e(x)}finally{n.f()}return d=["introduction","cover","avatar"],d.forEach((function(e){e||s.delete(e)})),h=t.currentUser.id,r.next=12,K["a"].updateUser(h,{formData:s});case 12:v=r.sent,m=v.data,w=m.user,g=w.avatar,b=w.cover,C=w.name,y=w.introduction,t.user=Object(p["a"])(Object(p["a"])({},t.user),{},{avatar:g,cover:b,name:C,introduction:y}),r.next=23;break;case 19:r.prev=19,r.t0=r["catch"](0),console.log("error:",r.t0),k["a"].fire({icon:"error",title:"暫時無法更新用戶資料，請稍候再試！"});case 23:B()("#postEdit").modal("hide");case 24:case"end":return r.stop()}}),r,null,[[0,19]])})))()},handleCoverChange:function(e){var t=e.target.files;if(0!==t.length){var r=window.URL.createObjectURL(t[0]);this.cover=r}},handleAvatarChange:function(e){var t=e.target.files;if(0!==t.length){var r=window.URL.createObjectURL(t[0]);this.avatar=r}},cancelEdit:function(){this.cover="",this.avatar="",this.name="",this.introduction=""}},created:function(){var e=this.$route.params.id;this.fetchUserTweets(e),this.fetchUserLikes(e),this.fetchUser(e),this.fetchReplies(e)},beforeRouteUpdate:function(e,t,r){var a=e.params.id;this.fetchUserTweets(a),this.fetchUser(a),this.fetchReplies(a),this.fetchUserLikes(a),r()},watch:{name:{handler:function(e){e.length>50&&k["a"].fire({icon:"error",title:"名字字數不可超過上限，煩請重新編輯！"})}},introduction:{handler:function(e){e.length>160&&k["a"].fire({icon:"error",title:"自我介紹字數不可超過上限，煩請重新編輯！"})}},cover:function(e){this.cover=e},avatar:function(e){this.avatar=e}}},Q=J,W=(r("960b"),Object(_["a"])(Q,a,s,!1,null,"7fb8f7c2",null));t["default"]=W.exports},"5fb2":function(e,t,r){"use strict";var a=2147483647,s=36,n=1,i=26,o=38,c=700,l=72,u=128,f="-",d=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,h="Overflow: input needs wider integers to process",v=s-n,m=Math.floor,w=String.fromCharCode,g=function(e){var t=[],r=0,a=e.length;while(r<a){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<a){var n=e.charCodeAt(r++);56320==(64512&n)?t.push(((1023&s)<<10)+(1023&n)+65536):(t.push(s),r--)}else t.push(s)}return t},b=function(e){return e+22+75*(e<26)},C=function(e,t,r){var a=0;for(e=r?m(e/c):e>>1,e+=m(e/t);e>v*i>>1;a+=s)e=m(e/v);return m(a+(v+1)*e/(e+o))},k=function(e){var t=[];e=g(e);var r,o,c=e.length,d=u,p=0,v=l;for(r=0;r<e.length;r++)o=e[r],o<128&&t.push(w(o));var k=t.length,y=k;k&&t.push(f);while(y<c){var x=a;for(r=0;r<e.length;r++)o=e[r],o>=d&&o<x&&(x=o);var _=y+1;if(x-d>m((a-p)/_))throw RangeError(h);for(p+=(x-d)*_,d=x,r=0;r<e.length;r++){if(o=e[r],o<d&&++p>a)throw RangeError(h);if(o==d){for(var L=p,R=s;;R+=s){var U=R<=v?n:R>=v+i?i:R-v;if(L<U)break;var T=L-U,j=s-U;t.push(w(b(U+T%j))),L=m(T/j)}t.push(w(b(L))),v=C(p,_,y==k),p=0,++y}}++p,++d}return t.join("")};e.exports=function(e){var t,r,a=[],s=e.toLowerCase().replace(p,".").split(".");for(t=0;t<s.length;t++)r=s[t],a.push(d.test(r)?"xn--"+k(r):r);return a.join(".")}},6062:function(e,t,r){"use strict";var a=r("6d61"),s=r("6566");e.exports=a("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),s)},6566:function(e,t,r){"use strict";var a=r("9bf2").f,s=r("7c73"),n=r("e2cc"),i=r("0366"),o=r("19aa"),c=r("2266"),l=r("7dd0"),u=r("2626"),f=r("83ab"),d=r("f183").fastKey,p=r("69f3"),h=p.set,v=p.getterFor;e.exports={getConstructor:function(e,t,r,l){var u=e((function(e,a){o(e,u,t),h(e,{type:t,index:s(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=a&&c(a,e[l],{that:e,AS_ENTRIES:r})})),p=v(t),m=function(e,t,r){var a,s,n=p(e),i=w(e,t);return i?i.value=r:(n.last=i={index:s=d(t,!0),key:t,value:r,previous:a=n.last,next:void 0,removed:!1},n.first||(n.first=i),a&&(a.next=i),f?n.size++:e.size++,"F"!==s&&(n.index[s]=i)),e},w=function(e,t){var r,a=p(e),s=d(t);if("F"!==s)return a.index[s];for(r=a.first;r;r=r.next)if(r.key==t)return r};return n(u.prototype,{clear:function(){var e=this,t=p(e),r=t.index,a=t.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete r[a.index],a=a.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,r=p(t),a=w(t,e);if(a){var s=a.next,n=a.previous;delete r.index[a.index],a.removed=!0,n&&(n.next=s),s&&(s.previous=n),r.first==a&&(r.first=s),r.last==a&&(r.last=n),f?r.size--:t.size--}return!!a},forEach:function(e){var t,r=p(this),a=i(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:r.first){a(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!w(this,e)}}),n(u.prototype,r?{get:function(e){var t=w(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),f&&a(u.prototype,"size",{get:function(){return p(this).size}}),u},setStrong:function(e,t,r){var a=t+" Iterator",s=v(t),n=v(a);l(e,t,(function(e,t){h(this,{type:a,target:e,state:s(e),kind:t,last:void 0})}),(function(){var e=n(this),t=e.kind,r=e.last;while(r&&r.removed)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),u(t)}}},"6d61":function(e,t,r){"use strict";var a=r("23e7"),s=r("da84"),n=r("94ca"),i=r("6eeb"),o=r("f183"),c=r("2266"),l=r("19aa"),u=r("861d"),f=r("d039"),d=r("1c7e"),p=r("d44e"),h=r("7156");e.exports=function(e,t,r){var v=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),w=v?"set":"add",g=s[e],b=g&&g.prototype,C=g,k={},y=function(e){var t=b[e];i(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!u(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(n(e,"function"!=typeof g||!(m||b.forEach&&!f((function(){(new g).entries().next()})))))C=r.getConstructor(t,e,v,w),o.REQUIRED=!0;else if(n(e,!0)){var x=new C,_=x[w](m?{}:-0,1)!=x,L=f((function(){x.has(1)})),R=d((function(e){new g(e)})),U=!m&&f((function(){var e=new g,t=5;while(t--)e[w](t,t);return!e.has(-0)}));R||(C=t((function(t,r){l(t,C,e);var a=h(new g,t,C);return void 0!=r&&c(r,a[w],{that:a,AS_ENTRIES:v}),a})),C.prototype=b,b.constructor=C),(L||U)&&(y("delete"),y("has"),v&&y("get")),(U||_)&&y(w),m&&b.clear&&delete b.clear}return k[e]=C,a({global:!0,forced:C!=g},k),p(C,e),m||r.setStrong(C,e,v),C}},7156:function(e,t,r){var a=r("861d"),s=r("d2bb");e.exports=function(e,t,r){var n,i;return s&&"function"==typeof(n=t.constructor)&&n!==r&&a(i=n.prototype)&&i!==r.prototype&&s(e,i),e}},"87d4":function(e,t,r){e.exports=r.p+"img/default-cover.e834a4fe.jpg"},"8a37":function(e,t,r){e.exports=r.p+"img/plus.cb180324.svg"},"960b":function(e,t,r){"use strict";r("3261")},9861:function(e,t,r){"use strict";r("e260");var a=r("23e7"),s=r("d066"),n=r("0d3b"),i=r("6eeb"),o=r("e2cc"),c=r("d44e"),l=r("9ed3"),u=r("69f3"),f=r("19aa"),d=r("5135"),p=r("0366"),h=r("f5df"),v=r("825a"),m=r("861d"),w=r("7c73"),g=r("5c6c"),b=r("9a1f"),C=r("35a1"),k=r("b622"),y=s("fetch"),x=s("Headers"),_=k("iterator"),L="URLSearchParams",R=L+"Iterator",U=u.set,T=u.getterFor(L),j=u.getterFor(R),O=/\+/g,S=Array(4),A=function(e){return S[e-1]||(S[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},E=function(e){try{return decodeURIComponent(e)}catch(t){return e}},I=function(e){var t=e.replace(O," "),r=4;try{return decodeURIComponent(t)}catch(a){while(r)t=t.replace(A(r--),E);return t}},P=/[!'()~]|%20/g,q={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},D=function(e){return q[e]},F=function(e){return encodeURIComponent(e).replace(P,D)},N=function(e,t){if(t){var r,a,s=t.split("&"),n=0;while(n<s.length)r=s[n++],r.length&&(a=r.split("="),e.push({key:I(a.shift()),value:I(a.join("="))}))}},B=function(e){this.entries.length=0,N(this.entries,e)},$=function(e,t){if(e<t)throw TypeError("Not enough arguments")},z=l((function(e,t){U(this,{type:R,iterator:b(T(e).entries),kind:t})}),"Iterator",(function(){var e=j(this),t=e.kind,r=e.iterator.next(),a=r.value;return r.done||(r.value="keys"===t?a.key:"values"===t?a.value:[a.key,a.value]),r})),K=function(){f(this,K,L);var e,t,r,a,s,n,i,o,c,l=arguments.length>0?arguments[0]:void 0,u=this,p=[];if(U(u,{type:L,entries:p,updateURL:function(){},updateSearchParams:B}),void 0!==l)if(m(l))if(e=C(l),"function"===typeof e){t=e.call(l),r=t.next;while(!(a=r.call(t)).done){if(s=b(v(a.value)),n=s.next,(i=n.call(s)).done||(o=n.call(s)).done||!n.call(s).done)throw TypeError("Expected sequence with length 2");p.push({key:i.value+"",value:o.value+""})}}else for(c in l)d(l,c)&&p.push({key:c,value:l[c]+""});else N(p,"string"===typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},M=K.prototype;o(M,{append:function(e,t){$(arguments.length,2);var r=T(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){$(arguments.length,1);var t=T(this),r=t.entries,a=e+"",s=0;while(s<r.length)r[s].key===a?r.splice(s,1):s++;t.updateURL()},get:function(e){$(arguments.length,1);for(var t=T(this).entries,r=e+"",a=0;a<t.length;a++)if(t[a].key===r)return t[a].value;return null},getAll:function(e){$(arguments.length,1);for(var t=T(this).entries,r=e+"",a=[],s=0;s<t.length;s++)t[s].key===r&&a.push(t[s].value);return a},has:function(e){$(arguments.length,1);var t=T(this).entries,r=e+"",a=0;while(a<t.length)if(t[a++].key===r)return!0;return!1},set:function(e,t){$(arguments.length,1);for(var r,a=T(this),s=a.entries,n=!1,i=e+"",o=t+"",c=0;c<s.length;c++)r=s[c],r.key===i&&(n?s.splice(c--,1):(n=!0,r.value=o));n||s.push({key:i,value:o}),a.updateURL()},sort:function(){var e,t,r,a=T(this),s=a.entries,n=s.slice();for(s.length=0,r=0;r<n.length;r++){for(e=n[r],t=0;t<r;t++)if(s[t].key>e.key){s.splice(t,0,e);break}t===r&&s.push(e)}a.updateURL()},forEach:function(e){var t,r=T(this).entries,a=p(e,arguments.length>1?arguments[1]:void 0,3),s=0;while(s<r.length)t=r[s++],a(t.value,t.key,this)},keys:function(){return new z(this,"keys")},values:function(){return new z(this,"values")},entries:function(){return new z(this,"entries")}},{enumerable:!0}),i(M,_,M.entries),i(M,"toString",(function(){var e,t=T(this).entries,r=[],a=0;while(a<t.length)e=t[a++],r.push(F(e.key)+"="+F(e.value));return r.join("&")}),{enumerable:!0}),c(K,L),a({global:!0,forced:!n},{URLSearchParams:K}),n||"function"!=typeof y||"function"!=typeof x||a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,a,s=[e];return arguments.length>1&&(t=arguments[1],m(t)&&(r=t.body,h(r)===L&&(a=t.headers?new x(t.headers):new x,a.has("content-type")||a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=w(t,{body:g(0,String(r)),headers:g(0,a)}))),s.push(t)),y.apply(this,s)}}),e.exports={URLSearchParams:K,getState:T}},"9a1f":function(e,t,r){var a=r("825a"),s=r("35a1");e.exports=function(e){var t=s(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return a(t.call(e))}},b436:function(e,t,r){"use strict";r("b5be")},b5be:function(e,t,r){},bb2f:function(e,t,r){var a=r("d039");e.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},be29:function(e,t,r){e.exports=r.p+"img/closeWhite.77dc228d.svg"},c87e:function(e,t,r){e.exports=r.p+"img/default-user.c04e3362.svg"},d642:function(e,t,r){"use strict";r("fb1c")},f183:function(e,t,r){var a=r("d012"),s=r("861d"),n=r("5135"),i=r("9bf2").f,o=r("90e3"),c=r("bb2f"),l=o("meta"),u=0,f=Object.isExtensible||function(){return!0},d=function(e){i(e,l,{value:{objectID:"O"+ ++u,weakData:{}}})},p=function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!n(e,l)){if(!f(e))return"F";if(!t)return"E";d(e)}return e[l].objectID},h=function(e,t){if(!n(e,l)){if(!f(e))return!0;if(!t)return!1;d(e)}return e[l].weakData},v=function(e){return c&&m.REQUIRED&&f(e)&&!n(e,l)&&d(e),e},m=e.exports={REQUIRED:!1,fastKey:p,getWeakData:h,onFreeze:v};a[l]=!0},fb1c:function(e,t,r){}}]);
//# sourceMappingURL=chunk-8558012c.aee70e28.js.map