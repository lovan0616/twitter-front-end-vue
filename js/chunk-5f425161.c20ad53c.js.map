{"version":3,"sources":["webpack:///./src/components/TweetDetail.vue?7801","webpack:///./src/components/TweetReply.vue?5a8f","webpack:///./src/views/MainTweetsReplyList.vue?74a2","webpack:///./src/views/MainTweetsReplyList.vue?928a","webpack:///./src/components/TweetReply.vue?b552","webpack:///src/components/TweetReply.vue","webpack:///./src/components/TweetReply.vue?a78b","webpack:///./src/components/TweetReply.vue?37df","webpack:///./src/components/TweetDetail.vue?3ba4","webpack:///src/components/TweetDetail.vue","webpack:///./src/components/TweetDetail.vue?a991","webpack:///./src/components/TweetDetail.vue?3fbc","webpack:///./src/apis/replies.js","webpack:///src/views/MainTweetsReplyList.vue","webpack:///./src/views/MainTweetsReplyList.vue?4960","webpack:///./src/views/MainTweetsReplyList.vue?c03e"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","name","_v","tweet","id","user","on","afterPostSubmit","_e","replies","length","_l","reply","key","staticRenderFns","_f","initialReply","User","avatar","_s","account","createdAt","comment","mixins","data","props","type","Object","required","initialUser","component","presentTweet","description","repliedCount","LikeCount","_m","presentUser","isSelfTweet","isLiked","$event","stopPropagation","preventDefault","deleteLike","addLike","handleSubmit","directives","rawName","value","expression","domProps","target","composing","newReply","initialTweet","isLoading","methods","trim","icon","title","$emit","console","log","UserId","watch","getToken","localStorage","getItem","getReply","tweetId","apiHelper","get","headers","Authorization","addReply","post","components","Navbar","FollowRecommend","TweetReply","TweetDetail","updatedAt","isSelf","beforeRouteUpdate","fetchTweet","fetchReply","next","created","replyId","fetchCurrentUser","computed"],"mappings":"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","file":"js/chunk-5f425161.c20ad53c.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetDetail.vue?vue&type=style&index=0&id=78bef611&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetReply.vue?vue&type=style&index=0&id=0c8ac4c2&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTweetsReplyList.vue?vue&type=style&index=0&id=b5d64b44&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container d-flex\"},[_c('div',{staticClass:\"navbar-area\",attrs:{\"id\":\"navbar-area\"}},[_c('Navbar')],1),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"main-title d-flex\"},[_c('router-link',{staticClass:\"arrow\",attrs:{\"to\":{ name: 'main-tweets' }}}),_c('div',{staticClass:\"title\"},[_vm._v(\"推文\")])],1),_c('div',{staticClass:\"tweet-detail-container\"},[(_vm.tweet.id !== -1)?_c('TweetDetail',{attrs:{\"user\":_vm.user,\"initial-tweet\":_vm.tweet,\"initial-user\":_vm.user},on:{\"after-post-submit\":_vm.afterPostSubmit}}):_vm._e()],1),_c('div',{staticClass:\"tweet-reply-container\"},[(_vm.replies.length < 1)?_c('h5',{staticClass:\"no-reply\"},[_vm._v(\" 本推文目前沒有回覆Q__Q \")]):_vm._e(),_vm._l((_vm.replies),function(reply){return _c('TweetReply',{key:reply.id,attrs:{\"initial-reply\":reply,\"initial-user\":_vm.user,\"tweet\":_vm.tweet}})})],2)]),_c('div',{staticClass:\"follow-recommend-area\",attrs:{\"id\":\"follow-recommend-area\"}},[_c('FollowRecommend')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"reply-container\"},[_c('div',{staticClass:\"reply-template d-flex\"},[_c('div',{staticClass:\"image-cropper\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.initialReply.User.avatar)}})]),_c('div',{staticClass:\"reply-all\"},[_c('div',{staticClass:\"user-profile d-flex\"},[_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.initialReply.User.name))]),_c('div',{staticClass:\"user-account\"},[_vm._v(_vm._s(_vm.initialReply.User.account))]),_c('div',{staticClass:\"dot\"},[_vm._v(\"・\")]),_c('div',{staticClass:\"createdAt\"},[_vm._v(\" \"+_vm._s(_vm._f(\"fromNow\")(_vm.initialReply.createdAt))+\" \")])]),_c('div',{staticClass:\"user-reply d-flex\"},[_c('div',{staticClass:\"reply-literal\"},[_vm._v(\"回覆\")]),_c('div',{staticClass:\"reply-account\"},[_vm._v(_vm._s(_vm.tweet.User.account))])]),_c('div',{staticClass:\"reply-content\"},[_vm._v(_vm._s(_vm.initialReply.comment))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"reply-container\">\n    <div class=\"reply-template d-flex\">\n      <div class=\"image-cropper\">\n        <img :src=\"initialReply.User.avatar | emptyImage\" class=\"avatar\" />\n      </div>\n      <div class=\"reply-all\">\n        <div class=\"user-profile d-flex\">\n          <div class=\"user-name\">{{ initialReply.User.name }}</div>\n          <div class=\"user-account\">{{ initialReply.User.account }}</div>\n          <div class=\"dot\">・</div>\n          <div class=\"createdAt\">\n            {{ initialReply.createdAt | fromNow }}\n          </div>\n        </div>\n        <div class=\"user-reply d-flex\">\n          <div class=\"reply-literal\">回覆</div>\n          <div class=\"reply-account\">{{ tweet.User.account }}</div>\n        </div>\n        <div class=\"reply-content\">{{ initialReply.comment }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { fromNowFilter } from \"../utils/mixins\";\nimport { emptyImageFilter } from '../utils/mixins'\n\nexport default {\n  name: \"TweetReply\",\n  mixins: [fromNowFilter, emptyImageFilter],\n  data() {\n    return {};\n  },\n  props: {\n    initialReply: {\n      type: Object,\n      required: true,\n    },\n    initialUser: {\n      type: Object,\n      required: true,\n    },\n    tweet: {\n      type: Object,\n      required: true,\n    },\n  },\n};\n</script>\n\n<style scoped>\n.reply-template {\n  border-bottom: 1px solid #e6ecf0;\n}\n.image-cropper {\n  width: 50px;\n  height: 50px;\n  position: relative;\n  overflow: hidden;\n  border-radius: 50%;\n  margin: 1rem 10px 0 15px;\n}\n.avatar {\n  width: auto;\n  display: inline;\n  height: 100%;\n}\n.reply-all {\n  margin: 1rem 1rem 1rem 0;\n  width: 80%;\n}\n.user-account,\n.dot,\n.createdAt,\n.reply-literal {\n  color: #657786;\n}\n.user-name,\n.dot {\n  font-weight: 700;\n}\n.user-account {\n  margin-left: 5px;\n}\n.reply-account {\n  color: #ff6600;\n  margin-left: 5px;\n}\n.reply-content {\n  font-size: 15px;\n}\n</style>>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetReply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetReply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetReply.vue?vue&type=template&id=0c8ac4c2&scoped=true&\"\nimport script from \"./TweetReply.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetReply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetReply.vue?vue&type=style&index=0&id=0c8ac4c2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c8ac4c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-container\"},[_c('div',{staticClass:\"tweet-container\"},[_c('div',{staticClass:\"user-info-container d-flex\"},[_c('div',{staticClass:\"image-cropper\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.presentTweet.User.avatar,\"alt\":\"user-pic\"}})]),_c('div',{staticClass:\"user-info-context\"},[_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.presentTweet.User.name))]),_c('div',{staticClass:\"user-account\"},[_vm._v(_vm._s(_vm.presentTweet.User.account))])])]),_c('div',{staticClass:\"tweet-content\"},[_vm._v(\" \"+_vm._s(_vm.presentTweet.description)+\" \")]),_c('div',{staticClass:\"tweet-time d-flex\"},[_c('div',{staticClass:\"tweet-date\"},[_vm._v(_vm._s(_vm._f(\"fromNow\")(_vm.presentTweet.createdAt)))])])]),_c('div',{staticClass:\"status-container d-flex\"},[_c('div',{staticClass:\"reply-number\"},[_vm._v(_vm._s(_vm.presentTweet.repliedCount))]),_c('div',{staticClass:\"reply\"},[_vm._v(\"回覆\")]),_c('div',{staticClass:\"like-number\"},[_vm._v(_vm._s(_vm.presentTweet.LikeCount))]),_c('div',{staticClass:\"like\"},[_vm._v(\"喜歡次數\")])]),_c('div',{staticClass:\"reation-container d-flex\"},[_vm._m(0),(this.presentUser !== '' && !_vm.isSelfTweet())?_c('div',{staticClass:\"like-icon\"},[(!_vm.presentTweet.isLiked)?_c('img',{staticClass:\"like-img\",attrs:{\"src\":require(\"../assets/Like.svg\")},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addLike(_vm.presentTweet.id)}}}):_c('img',{staticClass:\"like-img\",attrs:{\"src\":require(\"../assets/Like-liked.svg\")},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteLike(_vm.presentTweet.id)}}})]):_vm._e()]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"postReply\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"postReplyLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(1),_c('div',{staticClass:\"modal-body d-flex\"},[_c('div',{staticClass:\"m-reply-all d-flex\"},[_c('div',{staticClass:\"m-reply-container d-flex\"},[_c('div',{staticClass:\"m-reply-photo-area\"},[_c('img',{staticClass:\"m-reply-to-photo\",attrs:{\"src\":_vm.presentTweet.User.avatar,\"alt\":\"\"}}),_c('div',{staticClass:\"m-reply-line\"}),_c('img',{staticClass:\"m-reply-photo\",attrs:{\"src\":_vm.presentUser.avatar,\"alt\":\"\"}})]),_c('div',{staticClass:\"reply-content-area\"},[_c('div',{staticClass:\"m-reply-post-info d-flex\"},[_c('strong',{staticClass:\"m-reply-name\"},[_vm._v(_vm._s(_vm.presentTweet.User.name))]),_c('p',{staticClass:\"m-reply-account\"},[_vm._v(\" \"+_vm._s(_vm.presentTweet.User.account)+\" \")]),_c('p',{staticClass:\"m-reply-created-at\"},[_vm._v(\"・3小時\")])]),_c('div',{staticClass:\"m-reply-post-content\"},[_c('p',{staticClass:\"m-p\"},[_vm._v(\" \"+_vm._s(_vm.presentTweet.description)+\" \")]),_c('div',{staticClass:\"m-reply-to-container d-flex\"},[_c('div',{staticClass:\"m-reply-to\"},[_vm._v(\"回覆給\")]),_c('div',{staticClass:\"m-reply-to-account\"},[_vm._v(\" \"+_vm._s(_vm.presentTweet.User.account)+\" \")])]),_c('form',{staticClass:\"w-100 d-flex flex-column align-items-end\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newReply),expression:\"newReply\"}],staticClass:\"w-100\",attrs:{\"name\":\"comment\",\"id\":\"text\",\"cols\":\"20\",\"rows\":\"6\",\"placeholder\":\"推你的回覆\"},domProps:{\"value\":(_vm.newReply)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newReply=$event.target.value}}}),_vm._m(2)])])])])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"reply-icon\"},[_c('a',{attrs:{\"href\":\"#myModal\",\"role\":\"button\",\"data-toggle\":\"modal\",\"data-target\":\"#postReply\"}},[_c('img',{staticClass:\"reply-img\",attrs:{\"src\":require(\"../assets/Reply.svg\")}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('img',{attrs:{\"src\":require(\"../assets/Close.svg\")}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"button-control mt-3\"},[_c('button',{staticClass:\"btn btn-primary post\",attrs:{\"type\":\"submit\"}},[_vm._v(\" 回覆 \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"detail-container\">\n    <div class=\"tweet-container\">\n      <div class=\"user-info-container d-flex\">\n        <div class=\"image-cropper\">\n          <img :src=\"presentTweet.User.avatar\" alt=\"user-pic\" class=\"avatar\" />\n        </div>\n        <div class=\"user-info-context\">\n          <div class=\"user-name\">{{ presentTweet.User.name }}</div>\n          <div class=\"user-account\">{{ presentTweet.User.account }}</div>\n        </div>\n      </div>\n      <div class=\"tweet-content\">\n        {{ presentTweet.description }}\n      </div>\n      <div class=\"tweet-time d-flex\">\n        <div class=\"tweet-date\">{{ presentTweet.createdAt | fromNow }}</div>\n      </div>\n    </div>\n    <div class=\"status-container d-flex\">\n      <div class=\"reply-number\">{{ presentTweet.repliedCount }}</div>\n      <div class=\"reply\">回覆</div>\n      <div class=\"like-number\">{{ presentTweet.LikeCount }}</div>\n      <div class=\"like\">喜歡次數</div>\n    </div>\n    <div class=\"reation-container d-flex\">\n      <div class=\"reply-icon\">\n        <a\n          href=\"#myModal\"\n          role=\"button\"\n          data-toggle=\"modal\"\n          data-target=\"#postReply\"\n        >\n          <img src=\"../assets/Reply.svg\" class=\"reply-img\" />\n        </a>\n      </div>\n      <div class=\"like-icon\" v-if=\"this.presentUser !== '' && !isSelfTweet()\">\n        <img\n          src=\"../assets/Like.svg\"\n          class=\"like-img\"\n          v-if=\"!presentTweet.isLiked\"\n          @click.stop.prevent=\"addLike(presentTweet.id)\"\n        />\n        <img\n          class=\"like-img\"\n          src=\"../assets/Like-liked.svg\"\n          v-else\n          @click.stop.prevent=\"deleteLike(presentTweet.id)\"\n        />\n      </div>\n    </div>\n\n    <!--Modal-->\n    <div\n      class=\"modal fade\"\n      id=\"postReply\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"postReplyLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <button\n              type=\"button\"\n              class=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <img src=\"../assets/Close.svg\" />\n            </button>\n          </div>\n          <div class=\"modal-body d-flex\">\n            <div class=\"m-reply-all d-flex\">\n              <div class=\"m-reply-container d-flex\">\n                <div class=\"m-reply-photo-area\">\n                  <img\n                    :src=\"presentTweet.User.avatar\"\n                    alt=\"\"\n                    class=\"m-reply-to-photo\"\n                  />\n                  <div class=\"m-reply-line\"></div>\n                  <img :src=\"presentUser.avatar\" alt=\"\" class=\"m-reply-photo\" />\n                </div>\n                <div class=\"reply-content-area\">\n                  <div class=\"m-reply-post-info d-flex\">\n                    <strong class=\"m-reply-name\">{{\n                      presentTweet.User.name\n                    }}</strong>\n                    <p class=\"m-reply-account\">\n                      {{ presentTweet.User.account }}\n                    </p>\n                    <p class=\"m-reply-created-at\">・3小時</p>\n                  </div>\n                  <div class=\"m-reply-post-content\">\n                    <p class=\"m-p\">\n                      {{ presentTweet.description }}\n                    </p>\n                    <div class=\"m-reply-to-container d-flex\">\n                      <div class=\"m-reply-to\">回覆給</div>\n                      <div class=\"m-reply-to-account\">\n                        {{ presentTweet.User.account }}\n                      </div>\n                    </div>\n                    <form\n                      class=\"w-100 d-flex flex-column align-items-end\"\n                      @submit.stop.prevent=\"handleSubmit\"\n                    >\n                      <textarea\n                        name=\"comment\"\n                        class=\"w-100\"\n                        id=\"text\"\n                        cols=\"20\"\n                        rows=\"6\"\n                        placeholder=\"推你的回覆\"\n                        v-model=\"newReply\"\n                      >\n                      </textarea>\n\n                      <div class=\"button-control mt-3\">\n                        <button type=\"submit\" class=\"btn btn-primary post\">\n                          回覆\n                        </button>\n                      </div>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from \"jquery\";\nimport { fromNowFilter } from \"../utils/mixins\";\nimport likeAPI from \"../apis/likes\";\nimport { Toast } from \"../utils/helpers\";\n\nexport default {\n  name: \"TweetDetail\",\n  mixins: [fromNowFilter],\n  props: {\n    initialTweet: {\n      type: Object,\n      required: true,\n    },\n    initialUser: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      newReply: \"\",\n      presentUser: this.initialUser,\n      presentTweet: this.initialTweet,\n      isLoading: true,\n    };\n  },\n  methods: {\n    handleSubmit() {\n      // const form = e.target;\n      // const formData = new FormData(form);\n      // for (let [key, value] of formData.entries()) {\n      //   console.log(key + \", \" + value);\n      // }\n      // 輸入為空白時跳回同一頁並alert\n      if (!this.newReply.trim()) {\n        Toast.fire({\n          icon: \"warning\",\n          title: \"回覆不能空白\",\n        });\n        $(\"#postReply\").modal(\"hide\");\n        return;\n      }\n\n      const comment = this.newReply;\n      this.$emit(\"after-post-submit\", comment);\n      console.log(comment);\n      // 表單回覆後清空收入欄、關閉彈跳視窗\n      this.newReply = \"\";\n      $(\"#postReply\").modal(\"hide\");\n    },\n    // fetchUser() {\n    //   // 待套用API撈取使用者資料\n    //   const { currentUser, isAuthenticated } = this.user;\n    //   console.log(isAuthenticated);\n    //   const {\n    //     account: userAccount,\n    //     avatar: userAvatar,\n    //     name: userName,\n    //   } = currentUser;\n    //   this.presentUser = {\n    //     userName,\n    //     userAccount,\n    //     userAvatar,\n    //   };\n    // },\n    async addLike(tweetId) {\n      try {\n        const response = await likeAPI.like({ tweetId });\n        console.log(response);\n\n        this.presentTweet = {\n          ...this.presentTweet,\n          isLiked: true,\n          LikeCount: this.presentTweet.LikeCount + 1,\n        };\n      } catch (error) {\n        console.log(\"error:\", error);\n        Toast.fire({\n          icon: \"error\",\n          title: '暫時無法愛上，請稍候>\"<',\n        });\n      }\n    },\n    async deleteLike(tweetId) {\n      try {\n        const response = await likeAPI.unlike({ tweetId });\n        console.log(response);\n\n        this.presentTweet = {\n          ...this.presentTweet,\n          isLiked: false,\n          LikeCount: this.presentTweet.LikeCount - 1,\n        };\n      } catch (error) {\n        console.log(\"error:\", error);\n        Toast.fire({\n          icon: \"error\",\n          title: '暫時無法收回愛心，請稍候>\"<',\n        });\n      }\n    },\n    isSelfTweet() {\n      return this.presentUser.id === this.presentTweet.UserId;\n    },\n  },\n  watch: {\n    initialTweet(newValue) {\n      console.log({ newValue });\n      this.presentTweet = {\n        ...this.presentTweet,\n        ...newValue,\n      };\n    },\n  },\n};\n</script>\n\n<style scoped>\n.image-cropper {\n  width: 50px;\n  height: 50px;\n  overflow: hidden;\n  border-radius: 50%;\n  padding: 0;\n}\n.avatar {\n  width: auto;\n  display: inline;\n  height: 100%;\n}\n.user-info-context {\n  margin-top: 10px;\n  margin-left: 10px;\n}\n.user-name {\n  font-size: 15px;\n  font-weight: 700;\n}\n.user-account {\n  font-size: 15px;\n  font-weight: 500;\n}\n.tweet-time {\n  margin-bottom: 10px;\n}\n.tweet-container {\n  margin: 1rem 10px 0 15px;\n  border-bottom: 1px solid #e6ecf0;\n}\n\n.user-account {\n  color: #657786;\n}\n.tweet-content {\n  margin: 1.5rem 0;\n  font-size: 23px;\n  font-weight: 500;\n}\n.tweet-hour,\n.tweet-date,\n.dot {\n  color: #657786;\n  margin-right: 5px;\n  font-weight: 500;\n}\n.dot {\n  font-weight: 700;\n}\n.status-container {\n  border-bottom: 1px solid #e6ecf0;\n  line-height: 68px;\n  margin: 0 10px 0 15px;\n}\n.reply-number,\n.like-number,\n.reply,\n.like {\n  font-size: 19px;\n  font-weight: 500;\n}\n.reply,\n.like {\n  color: #657786;\n  margin-left: 5px;\n}\n.reply {\n  margin-right: 1.5rem;\n}\n.reation-container,\n.reply-icon,\n.like-icon {\n  height: 60px;\n  line-height: 60px;\n  border-bottom: 1px solid #e6ecf0;\n}\n.reply-img:hover,\n.like-img:hover {\n  cursor: pointer;\n}\n.reply-img,\n.like-img {\n  margin: 0 10px 0 15px;\n  width: 25px;\n  height: 25px;\n}\n.like-icon {\n  margin-left: 150px;\n}\n\n.modal-content {\n  border-radius: 1rem;\n}\n\n.modal-header .close {\n  padding: 1rem 1rem;\n  margin: -1rem auto -1rem -1rem;\n}\n\n.m-reply-container {\n  background-color: #fff;\n}\n\n.m-reply-post-info {\n  margin: 15px 0 6px 0;\n  width: 100%;\n  font-size: 15px;\n}\n\n.m-reply-name,\n.m-reply-account,\n.m-reply-created-at {\n  height: 22px;\n  margin-bottom: 0;\n}\n\n.m-p {\n  margin-bottom: 0;\n}\n\n.m-reply-account {\n  margin-left: 5px;\n  color: #657786;\n}\n\n.m-reply-created-at {\n  color: #657786;\n}\n\n.m-reply-post-content {\n  margin: 0px 15px auto 0;\n  font-size: 15px;\n}\n\n.m-reply-to-container {\n  margin-top: 1rem;\n}\n\n.m-reply-to {\n  color: #657786;\n  font-size: 13px;\n  line-height: 13px;\n}\n\n.m-reply-to-account {\n  color: #ff6600;\n  font-size: 13px;\n  line-height: 13px;\n  margin-left: 2px;\n}\n\n.m-upper-area-content {\n  padding-top: 15px;\n  padding-left: 15px;\n}\n\n.m-image-cropper,\n.m-reply-to-photo,\n.m-reply-photo {\n  width: 50px;\n  height: 50px;\n  position: relative;\n  overflow: hidden;\n  border-radius: 50%;\n  object-fit: cover;\n}\n\n.m-reply-to-photo {\n  margin: 0 0 5px 15px;\n}\n\n.m-reply-line {\n  margin: auto;\n  background-color: #ccd6dd;\n  width: 2px;\n  height: 60px;\n}\n\n.m-reply-photo {\n  margin: 5px 10px 180px 15px;\n}\n\ntextarea {\n  margin: 35px 0;\n  width: 100%;\n  border: none;\n  resize: none;\n  -moz-appearance: none;\n}\n\ntextarea:focus {\n  outline: 0;\n}\n\n.btn {\n  width: 64px;\n  height: 40px;\n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n  border-radius: 100px;\n}\n\n.btn-ctrl {\n  border: 1px solid #000;\n}\n\n.avatar {\n  width: auto;\n  display: inline;\n  height: 100%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetDetail.vue?vue&type=template&id=78bef611&scoped=true&\"\nimport script from \"./TweetDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetDetail.vue?vue&type=style&index=0&id=78bef611&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78bef611\",\n  null\n  \n)\n\nexport default component.exports","import { apiHelper } from '../utils/helpers'\nconst getToken = () => localStorage.getItem('token')\n\nexport default {\n  getReply(tweetId) {\n    return apiHelper.get(`/api/tweets/${tweetId}/replies`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  addReply(tweetId, { comment }) {\n    return apiHelper.post(`/api/tweets/${tweetId}/replies`, { comment }, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n}","<template>\n  <div class=\"container d-flex\">\n    <div id=\"navbar-area\" class=\"navbar-area\">\n      <Navbar />\n    </div>\n    <div class=\"main\">\n      <div class=\"main-title d-flex\">\n        <router-link :to=\"{ name: 'main-tweets' }\" class=\"arrow\"></router-link>\n        <div class=\"title\">推文</div>\n      </div>\n      <div class=\"tweet-detail-container\">\n        <!-- 插入TweetDetail -->\n        <TweetDetail\n          :user=\"user\"\n          :initial-tweet=\"tweet\"\n          @after-post-submit=\"afterPostSubmit\"\n          v-if=\"tweet.id !== -1\"\n          :initial-user=\"user\"\n        />\n      </div>\n      <div class=\"tweet-reply-container\">\n        <!-- 插入TweetReply -->\n        <h5 class=\"no-reply\" v-if=\"replies.length < 1\">\n          本推文目前沒有回覆Q__Q\n        </h5>\n        <TweetReply\n          v-for=\"reply in replies\"\n          :key=\"reply.id\"\n          :initial-reply=\"reply\"\n          :initial-user=\"user\"\n          :tweet=\"tweet\"\n        />\n      </div>\n    </div>\n    <div id=\"follow-recommend-area\" class=\"follow-recommend-area\">\n      <!-- 插入FollowRecommend -->\n      <FollowRecommend />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Navbar from \"../components/Navbar\";\nimport FollowRecommend from \"../components/FollowRecommend\";\nimport TweetReply from \"../components/TweetReply\";\nimport TweetDetail from \"../components/TweetDetail\";\nimport { Toast } from \"../utils/helpers\";\nimport ReplyAPI from \"../apis/replies\";\nimport TweetAPI from \"../apis/tweets\";\nimport userAPI from \"../apis/users\";\nimport { mapState } from \"vuex\";\n\n// GET /api/users/:id\n// const dummyUser = {\n//   currentUser: {\n//     id: 15,\n//     email: \"user1@example.com\",\n//     password: \"123445\",\n//     name: \"user666\",\n//     avatar: \"https://i.imgur.com/NZWqfN3.jpg\",\n//     introduction: \"Quam et veniam.\",\n//     isAdmin: false,\n//     account: \"@user666\",\n//     cover:\n//       \"https://www.myvideo.net.tw/blog/assets/2020/06-30/blog0162964980.jpg\",\n//     createdAt: \"2020-12-16T06:02:24.000Z\",\n//     updatedAt: \"2020-12-16T06:02:24.000Z\",\n//   },\n//   isAuthenticated: true,\n// };\n\nexport default {\n  name: \"MainTweetsReplyList\",\n  components: {\n    Navbar,\n    FollowRecommend,\n    TweetReply,\n    TweetDetail,\n  },\n  data() {\n    return {\n      user: {},\n      tweet: {\n        id: -1,\n        UserId: -1,\n        description: \"\",\n        createdAt: \"\",\n        updatedAt: \"\",\n        User: {\n          id: -1,\n          account: \"\",\n          name: \"\",\n          avatar: \"\",\n        },\n        isLiked: false,\n        repliedCount: 0,\n        LikeCount: 0,\n        isSelf: false,\n      },\n      replies: [],\n    };\n  },\n  beforeRouteUpdate(to, from, next) {\n    const { id } = to.params;\n    this.fetchTweet(id);\n    this.fetchReply(id);\n    next();\n  },\n  created() {\n    const { id: tweetId } = this.$route.params;\n    this.fetchTweet(tweetId);\n\n    const { id: replyId } = this.$route.params;\n    this.fetchReply(replyId);\n\n    this.fetchCurrentUser();\n  },\n  computed: {\n    ...mapState([\"currentUser\", \"isAuthenticated\"]),\n  },\n  methods: {\n    async fetchTweet(tweetId) {\n      try {\n        const { data } = await TweetAPI.read(tweetId);\n        this.tweet = data;\n      } catch (error) {\n        console.log(\"error:\", error);\n        Toast.fire({\n          icon: \"error\",\n          title: \"暫時無法取得推文細節，請稍候再試！\",\n        });\n      }\n    },\n    async fetchReply(replyId) {\n      try {\n        const { data } = await ReplyAPI.getReply(replyId);\n        this.replies = [...data];\n      } catch (error) {\n        console.log(\"error:\", error);\n        const { data } = await ReplyAPI.getReply(replyId);\n        if (data.length === 0) return;\n        Toast.fire({\n          icon: \"error\",\n          title: \"暫時無法取得推文回覆，請稍候再試！\",\n        });\n      }\n    },\n    async fetchCurrentUser() {\n      try {\n        const response = await userAPI.getCurrentUser();\n        if (response.statusText !== \"OK\") {\n          throw new Error(response.statusText);\n        }\n        const { data } = response;\n        this.user = {\n          ...this.user,\n          ...data,\n        };\n      } catch (error) {\n        console.log(\"error:\", error);\n        Toast.fire({\n          icon: \"error\",\n          title: \"暫時無法取得用戶資料，請稍等！\",\n        });\n      }\n    },\n    async afterPostSubmit(comment) {\n      try {\n        const { id: tweetId } = this.$route.params;\n        const data = await ReplyAPI.addReply(tweetId, { comment });\n        if (data.statusText !== \"OK\") {\n          throw new Error(data.message);\n        }\n        //拉資料回前端渲染;\n        const { id } = data;\n        this.replies.unshift({\n          id,\n          TweetId: tweetId,\n          UserId: this.user.id,\n          createdAt: new Date(),\n          updateAt: new Date(),\n          comment,\n          User: {\n            account: this.user.account,\n            avatar: this.user.avatar,\n            name: this.user.name,\n          },\n        });\n        this.tweet.repliedCount++;\n      } catch (error) {\n        console.log(\"error:\", error);\n        Toast.fire({\n          icon: \"error\",\n          title: \"暫時無法新增回覆，請稍候再試！\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.upper-area-content {\n  display: flex;\n  align-items: top;\n  padding-left: 15px;\n}\n\n.upper-area-content p {\n  margin: 0;\n  line-height: 10px;\n}\n\n.main {\n  padding: 0;\n  width: 500px;\n  height: 3000px;\n  border-left: 1px solid #e6ecf0;\n  border-right: 1px solid #e6ecf0;\n  border-bottom: 1px solid #e6ecf0;\n}\n\n.tweet-reply-container {\n  height: 100%;\n}\n\n.main-title {\n  border-bottom: 1px solid #e6ecf0;\n  height: 55px;\n}\n\n.arrow {\n  background-image: url(\"https://i.imgur.com/MHQuvWA.png\");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n  margin: auto 43px auto 1.3rem;\n  width: 17px;\n  height: 14px;\n}\n\n.title {\n  padding: 0 10px 10px 0;\n  font-size: 18px;\n  font-weight: 700;\n  line-height: 55px;\n}\n\n.no-reply {\n  margin: 15% 25%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTweetsReplyList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTweetsReplyList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainTweetsReplyList.vue?vue&type=template&id=b5d64b44&scoped=true&\"\nimport script from \"./MainTweetsReplyList.vue?vue&type=script&lang=js&\"\nexport * from \"./MainTweetsReplyList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainTweetsReplyList.vue?vue&type=style&index=0&id=b5d64b44&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b5d64b44\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}