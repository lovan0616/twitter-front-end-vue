(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-824041fa"],{"08ab":function(t,e,a){"use strict";a("d993")},"09b4":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"navbar-area",attrs:{id:"navbar-area"}},[a("Navbar")],1),a("div",{staticClass:"main-area",attrs:{id:"main-area"}},[a("div",{staticClass:"upper-area d-flex align-items-top"},[a("div",{staticClass:"upper-area-content d-flex align-items-center"},[a("router-link",{attrs:{to:{name:"user-profile",params:{id:t.user.id}}}},[a("span",{staticClass:"mr-4",staticStyle:{color:"#000000"}},[t._v("←")])]),a("div",{staticClass:"user"},[a("strong",{staticClass:"name"},[t._v(t._s(t.user.name))]),a("p",{staticClass:"tweets-count small"},[t._v(t._s(t.user.tweetsCount)+" 推文")])])],1)]),a("main",[a("ul",{staticClass:"nav nav-tabs"},[a("li",{staticClass:"nav-item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleTab("followers")}}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-followlist",params:{id:t.user.id,followship:"followers"}}}},[t._v("追隨者")])],1),a("li",{staticClass:"nav-item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleTab("followings")}}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-followlist",params:{id:t.user.id,followship:"followings"}}}},[t._v("正在追隨")])],1)]),"followers"===t.nowTabbed?a("div",{staticClass:"followers-panel"},[t.isLoading?a("Spinner"):t.isLoading||t.followers.length?t._e():a("div",{staticClass:"no-data"},[a("h3",[t._v("尚未有追隨者")])]),t._l(t.followers,(function(t){return a("Follower",{key:t.followerId,attrs:{"initial-follower":t}})}))],2):t._e(),"followings"===t.nowTabbed?a("div",{staticClass:"followings-panel"},[t.isLoading?a("Spinner"):t.isLoading||t.followings.length?t._e():a("div",{staticClass:"no-data"},[a("h3",[t._v("尚未有正在追隨者")])]),t._l(t.followings,(function(t){return a("Following",{key:t.followingId,attrs:{"initial-following":t}})}))],2):t._e()])]),a("div",{staticClass:"follow-recommend-area",attrs:{id:"follow-recommend-area"}},[a("FollowRecommend")],1)])},n=[],r=a("2909"),i=a("5530"),l=(a("96cf"),a("1da1")),s=a("d178"),c=a("5c44"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"follower"},[a("div",{staticClass:"info d-flex"},[a("div",{staticClass:"image-cropper"},[a("img",{staticClass:"avatar",attrs:{src:t._f("emptyImage")(t.follower.avatar)}})]),a("div",{staticClass:"info-text d-flex flex-column"},[a("strong",{staticClass:"name"},[t._v(t._s(t.follower.name))]),a("p",{staticClass:"account"},[t._v(t._s(t.follower.account))]),a("p",{staticClass:"introduction"},[t._v(t._s(t.follower.introduction))])])]),a("div",{staticClass:"follow-badge"},[t.follower.isFollowed?a("div",{staticClass:"badge badge-pill badge-primary",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.unfollow(t.follower.followerId)}}},[t._v("正在跟隨")]):a("div",{staticClass:"badge badge-pill badge-outline-primary",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.follow(t.follower.followerId)}}},[t._v("跟隨")])])])])},f=[],w=a("2708"),d=a("b025"),p=a("2fa3"),g={name:"Follower",mixins:[w["a"]],props:{initialFollower:{type:Object,required:!0}},data:function(){return{follower:{followerId:-1,account:"",name:"",avatar:"",introduction:"",followshipCreatedAt:"",isFollowed:!1}}},methods:{fetchData:function(){this.follower=Object(i["a"])({},this.initialFollower)},follow:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d["a"].follow({id:t});case 3:if(o=a.sent,"OK"===o.statusText){a.next=6;break}throw new Error(o.statusText);case 6:e.follower=Object(i["a"])(Object(i["a"])({},e.follower),{},{isFollowed:!0}),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](0),console.log(a.t0),p["a"].fire({icon:"error",title:"無法成功跟隨，請稍後再試"});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},unfollow:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d["a"].unfollow({id:t});case 3:if(o=a.sent,"OK"===o.statusText){a.next=6;break}throw new Error(o.statusText);case 6:e.follower=Object(i["a"])(Object(i["a"])({},e.follower),{},{isFollowed:!1}),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](0),console.log(a.t0),p["a"].fire({icon:"error",title:"無法成功跟隨，請稍後再試"});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()}},created:function(){this.fetchData()},watch:{initialFollower:function(t){this.follower=t}}},v=g,h=(a("f2c8"),a("2877")),m=Object(h["a"])(v,u,f,!1,null,"c5d12ac4",null),b=m.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"following"},[a("div",{staticClass:"info d-flex"},[a("div",{staticClass:"image-cropper"},[a("img",{staticClass:"avatar",attrs:{src:t._f("emptyImage")(t.following.avatar)}})]),a("div",{staticClass:"info-text d-flex flex-column"},[a("strong",{staticClass:"name"},[t._v(t._s(t.following.name))]),a("p",{staticClass:"account"},[t._v(t._s(t.following.account))]),a("p",{staticClass:"introduction"},[t._v(t._s(t.following.introduction))])])]),a("div",{staticClass:"follow-badge"},[t.following.isFollowed?a("div",{staticClass:"badge badge-pill badge-primary",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.unfollow(t.following.followingId)}}},[t._v("正在跟隨")]):a("div",{staticClass:"badge badge-pill badge-outline-primary",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.follow(t.following.followingId)}}},[t._v("跟隨")])])])])},C=[],_={name:"Following",mixins:[w["a"]],props:{initialFollowing:{type:Object,required:!0}},data:function(){return{following:{followingId:-1,account:"",name:"",avatar:"",introduction:"",followshipCreatedAt:"",isFollowed:!1}}},methods:{fetchData:function(){this.following=Object(i["a"])({},this.initialFollowing)},follow:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d["a"].follow({id:t});case 3:if(o=a.sent,"OK"===o.statusText){a.next=6;break}throw new Error(o.statusText);case 6:e.following=Object(i["a"])(Object(i["a"])({},e.following),{},{isFollowed:!0}),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](0),console.log(a.t0),p["a"].fire({icon:"error",title:"無法成功跟隨，請稍後再試"});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},unfollow:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d["a"].unfollow({id:t});case 3:if(o=a.sent,"OK"===o.statusText){a.next=6;break}throw new Error(o.statusText);case 6:e.following=Object(i["a"])(Object(i["a"])({},e.following),{},{isFollowed:!1}),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](0),console.log(a.t0),p["a"].fire({icon:"error",title:"無法成功跟隨，請稍後再試"});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()}},created:function(){this.fetchData()},watch:{initialFollowing:function(t){this.following=t}}},k=_,O=(a("08ab"),Object(h["a"])(k,x,C,!1,null,"3a492158",null)),F=O.exports,j=a("4cce"),T=a("2375"),R={components:{Navbar:s["a"],FollowRecommend:c["a"],Follower:b,Following:F,Spinner:T["a"]},data:function(){return{followers:[],followings:[],user:{},userTweetsCount:-1,nowTabbed:this.$route.params.followship,isLoading:!0}},methods:{fetchUser:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,j["a"].readUser({id:t});case 3:if(o=a.sent,"OK"===o.statusText){a.next=6;break}throw new Error(o.statusText);case 6:n=o.data,e.user=Object(i["a"])(Object(i["a"])({},e.user),n),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log(a.t0),p["a"].fire({icon:"error",title:"無法取得使用者資料，請稍後再試"});case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()},fetchFollowers:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,j["a"].readFollowers({id:t});case 3:if(o=a.sent,"OK"===o.statusText){a.next=6;break}throw new Error(o.statusText);case 6:n=o.data,e.followers=Object(r["a"])(n),e.isLoading=!1,a.next=16;break;case 11:a.prev=11,a.t0=a["catch"](0),e.isLoading=!1,console.log(a.t0),p["a"].fire({icon:"error",title:"無法取得跟隨者資料，請稍後再試"});case 16:case"end":return a.stop()}}),a,null,[[0,11]])})))()},fetchFollowings:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,j["a"].readFollowings({id:t});case 3:if(o=a.sent,"OK"===o.statusText){a.next=6;break}throw new Error(o.statusText);case 6:n=o.data,e.followings=Object(r["a"])(n),e.isLoading=!1,a.next=16;break;case 11:a.prev=11,a.t0=a["catch"](0),e.isLoading=!1,console.log(a.t0),p["a"].fire({icon:"error",title:"無法取得跟隨中資料，請稍後再試"});case 16:case"end":return a.stop()}}),a,null,[[0,11]])})))()},toggleTab:function(t){this.nowTabbed=t}},created:function(){var t=this.$route.params.id;this.fetchUser(t),this.fetchFollowers(t),this.fetchFollowings(t)},beforeRouteUpdate:function(t,e,a){var o=t.params.id;this.fetchUser(o),this.fetchFollowers(o),this.fetchFollowings(o),a()},watch:{followings:function(){var t=this.$route.params.id;this.fetchFollowings(t)}}},y=R,D=(a("2dd1"),Object(h["a"])(y,o,n,!1,null,"6f48e8fe",null));e["default"]=D.exports},"2dd1":function(t,e,a){"use strict";a("5aff")},"5aff":function(t,e,a){},"92b8":function(t,e,a){},d993:function(t,e,a){},f2c8:function(t,e,a){"use strict";a("92b8")}}]);
//# sourceMappingURL=chunk-824041fa.58be7cc2.js.map