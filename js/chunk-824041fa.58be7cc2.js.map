{"version":3,"sources":["webpack:///./src/components/Following.vue?797e","webpack:///./src/views/UserFollowList.vue?75cc","webpack:///./src/components/Follower.vue?477b","webpack:///src/components/Follower.vue","webpack:///./src/components/Follower.vue?c103","webpack:///./src/components/Follower.vue?95c9","webpack:///./src/components/Following.vue?4ec6","webpack:///src/components/Following.vue","webpack:///./src/components/Following.vue?b6ab","webpack:///./src/components/Following.vue?4999","webpack:///src/views/UserFollowList.vue","webpack:///./src/views/UserFollowList.vue?df94","webpack:///./src/views/UserFollowList.vue?45b1","webpack:///./src/views/UserFollowList.vue?3800","webpack:///./src/components/Follower.vue?fcc8"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","name","params","id","user","staticStyle","_v","_s","tweetsCount","on","$event","stopPropagation","preventDefault","toggleTab","followship","nowTabbed","isLoading","followers","length","_e","_l","follower","key","followerId","followings","following","followingId","staticRenderFns","_f","avatar","account","introduction","unfollow","follow","mixins","props","initialFollower","type","Object","required","data","followshipCreatedAt","isFollowed","methods","fetchData","created","watch","newValue","component","initialFollowing","components","Navbar","FollowRecommend","Follower","Following","Spinner","userTweetsCount","$route","item","fetchUser","fetchFollowers","fetchFollowings","beforeRouteUpdate","next"],"mappings":"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","file":"js/chunk-824041fa.58be7cc2.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Following.vue?vue&type=style&index=0&id=3a492158&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"navbar-area\",attrs:{\"id\":\"navbar-area\"}},[_c('Navbar')],1),_c('div',{staticClass:\"main-area\",attrs:{\"id\":\"main-area\"}},[_c('div',{staticClass:\"upper-area d-flex align-items-top\"},[_c('div',{staticClass:\"upper-area-content d-flex align-items-center\"},[_c('router-link',{attrs:{\"to\":{\n            name: 'user-profile',\n            params: { id: _vm.user.id },\n          }}},[_c('span',{staticClass:\"mr-4\",staticStyle:{\"color\":\"#000000\"}},[_vm._v(\"←\")])]),_c('div',{staticClass:\"user\"},[_c('strong',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.user.name))]),_c('p',{staticClass:\"tweets-count small\"},[_vm._v(_vm._s(_vm.user.tweetsCount)+\" 推文\")])])],1)]),_c('main',[_c('ul',{staticClass:\"nav nav-tabs\"},[_c('li',{staticClass:\"nav-item\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.toggleTab('followers')}}},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":{\n              name: 'user-followlist',\n              params: { id: _vm.user.id, followship: 'followers' },\n            }}},[_vm._v(\"追隨者\")])],1),_c('li',{staticClass:\"nav-item\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.toggleTab('followings')}}},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":{\n              name: 'user-followlist',\n              params: { id: _vm.user.id, followship: 'followings' },\n            }}},[_vm._v(\"正在追隨\")])],1)]),(_vm.nowTabbed === 'followers')?_c('div',{staticClass:\"followers-panel\"},[(_vm.isLoading)?_c('Spinner'):(!_vm.isLoading && !_vm.followers.length)?_c('div',{staticClass:\"no-data\"},[_c('h3',[_vm._v(\"尚未有追隨者\")])]):_vm._e(),_vm._l((_vm.followers),function(follower){return _c('Follower',{key:follower.followerId,attrs:{\"initial-follower\":follower}})})],2):_vm._e(),(_vm.nowTabbed === 'followings')?_c('div',{staticClass:\"followings-panel\"},[(_vm.isLoading)?_c('Spinner'):(!_vm.isLoading && !_vm.followings.length)?_c('div',{staticClass:\"no-data\"},[_c('h3',[_vm._v(\"尚未有正在追隨者\")])]):_vm._e(),_vm._l((_vm.followings),function(following){return _c('Following',{key:following.followingId,attrs:{\"initial-following\":following}})})],2):_vm._e()])]),_c('div',{staticClass:\"follow-recommend-area\",attrs:{\"id\":\"follow-recommend-area\"}},[_c('FollowRecommend')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"follower\"},[_c('div',{staticClass:\"info d-flex\"},[_c('div',{staticClass:\"image-cropper\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.follower.avatar)}})]),_c('div',{staticClass:\"info-text d-flex flex-column\"},[_c('strong',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.follower.name))]),_c('p',{staticClass:\"account\"},[_vm._v(_vm._s(_vm.follower.account))]),_c('p',{staticClass:\"introduction\"},[_vm._v(_vm._s(_vm.follower.introduction))])])]),_c('div',{staticClass:\"follow-badge\"},[(_vm.follower.isFollowed)?_c('div',{staticClass:\"badge badge-pill badge-primary\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.unfollow(_vm.follower.followerId)}}},[_vm._v(\"正在跟隨\")]):_c('div',{staticClass:\"badge badge-pill badge-outline-primary\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.follow(_vm.follower.followerId)}}},[_vm._v(\"跟隨\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"follower\">\n      <div class=\"info d-flex\">\n        <div class=\"image-cropper\">\n          <img :src=\"follower.avatar | emptyImage \" class=\"avatar\" />\n        </div>\n        <div class=\"info-text d-flex flex-column\">\n          <strong class=\"name\">{{ follower.name }}</strong>\n          <p class=\"account\">{{ follower.account }}</p>\n          <p class=\"introduction\">{{ follower.introduction }}</p>\n        </div>\n      </div>\n      <div class=\"follow-badge\">\n        <div\n          class=\"badge badge-pill badge-primary\"\n          v-if=\"follower.isFollowed\"\n          @click.stop.prevent=\"unfollow(follower.followerId)\"\n        >正在跟隨</div>\n        <div class=\"badge badge-pill badge-outline-primary\" v-else @click.stop.prevent=\"follow(follower.followerId)\">跟隨</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport { emptyImageFilter } from \"../utils/mixins\";\nimport followshipAPI from '../apis/followship'\nimport { Toast } from '../utils/helpers'\nexport default {\n  name: \"Follower\",\n  mixins: [emptyImageFilter],\n  props: {\n    initialFollower: {\n      type: Object,\n      required: true\n    },\n  },\n  data() {\n    return {\n      follower: {\n        followerId: -1,\n        account: \"\",\n        name: \"\",\n        avatar: \"\",\n        introduction: \"\",\n        followshipCreatedAt: \"\",\n        isFollowed: false\n      }\n    };\n  },\n  methods: {\n    fetchData() {\n      this.follower = {...this.initialFollower}\n    },\n    async follow(id) {\n      try {\n        const response = await followshipAPI.follow({id})\n        if(response.statusText !== 'OK') {\n          throw new Error(response.statusText)\n        }\n        this.follower = {\n        ...this.follower,\n        isFollowed: true\n      };\n\n      } catch(error) {\n        console.log(error)\n        Toast.fire({\n          icon: 'error',\n          title: '無法成功跟隨，請稍後再試'\n        })\n      }\n    },\n    async unfollow(id) {\n      try {\n        const response = await followshipAPI.unfollow({id})\n        if(response.statusText !== 'OK') {\n          throw new Error(response.statusText)\n        }\n        this.follower = {\n        ...this.follower,\n        isFollowed: false\n      };\n\n      } catch(error) {\n        console.log(error)\n        Toast.fire({\n          icon: 'error',\n          title: '無法成功跟隨，請稍後再試'\n        })\n      }\n    }\n  },\n  created() {\n    this.fetchData();\n  },\n  watch: {\n    initialFollower(newValue) {\n      this.follower = newValue\n    }\n  }\n};\n</script>\n\n<style scoped>\n.follower {\n  width: 100%;\n  border-top: 1px solid #e6ecf0;\n  border-bottom: 1px solid #e6ecf0;\n  position: relative;\n  padding: 12px 15px 10px 15px;\n  border-left: 1px solid #e6ecf0;\n  border-right: 1px solid #e6ecf0;\n}\n\n.info {\n  width: 100%;\n}\n\n.follow-badge {\n  position: absolute;\n  top: 12px;\n  right: 15px;\n}\n\n.image-cropper {\n  width: 50px;\n  height: 50px;\n  position: relative;\n  overflow: hidden;\n  border-radius: 50%;\n  margin-right: 10px;\n}\n\n.info-text {\n  width: calc(100% - 50px);\n}\n\n.info-text .name {\n  line-height: 12px;\n}\n\n.info-text p {\n  margin-bottom: 0;\n}\n\n.info-text .account {\n  color: #657786\n}\n\n.avatar {\n  width: auto;\n  display: inline;\n  height: 100%;\n}\n\n.badge-pill {\n  padding: 7px 16px;\n  cursor: pointer;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Follower.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Follower.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Follower.vue?vue&type=template&id=c5d12ac4&scoped=true&\"\nimport script from \"./Follower.vue?vue&type=script&lang=js&\"\nexport * from \"./Follower.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Follower.vue?vue&type=style&index=0&id=c5d12ac4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c5d12ac4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"following\"},[_c('div',{staticClass:\"info d-flex\"},[_c('div',{staticClass:\"image-cropper\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.following.avatar)}})]),_c('div',{staticClass:\"info-text d-flex flex-column\"},[_c('strong',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.following.name))]),_c('p',{staticClass:\"account\"},[_vm._v(_vm._s(_vm.following.account))]),_c('p',{staticClass:\"introduction\"},[_vm._v(_vm._s(_vm.following.introduction))])])]),_c('div',{staticClass:\"follow-badge\"},[(_vm.following.isFollowed)?_c('div',{staticClass:\"badge badge-pill badge-primary\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.unfollow(_vm.following.followingId)}}},[_vm._v(\"正在跟隨\")]):_c('div',{staticClass:\"badge badge-pill badge-outline-primary\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.follow(_vm.following.followingId)}}},[_vm._v(\"跟隨\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"following\">\n      <div class=\"info d-flex\">\n        <div class=\"image-cropper\">\n          <img :src=\"following.avatar | emptyImage \" class=\"avatar\" />\n        </div>\n        <div class=\"info-text d-flex flex-column\">\n          <strong class=\"name\">{{ following.name }}</strong>\n          <p class=\"account\">{{ following.account }}</p>\n          <p class=\"introduction\">{{ following.introduction }}</p>\n        </div>\n      </div>\n      <div class=\"follow-badge\">\n        <div\n          class=\"badge badge-pill badge-primary\"\n          v-if=\"following.isFollowed\"\n          @click.stop.prevent=\"unfollow(following.followingId)\"\n        >正在跟隨</div>\n        <div class=\"badge badge-pill badge-outline-primary\" v-else @click.stop.prevent=\"follow(following.followingId)\">跟隨</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport { emptyImageFilter } from \"../utils/mixins\";\nimport followshipAPI from '../apis/followship'\nimport { Toast } from '../utils/helpers'\nexport default {\n  name: \"Following\",\n  mixins: [emptyImageFilter],\n  props: {\n    initialFollowing: {\n      type: Object,\n      required: true\n    },\n  },\n  data() {\n    return {\n      following: {\n        followingId: -1,\n        account: \"\",\n        name: \"\",\n        avatar: \"\",\n        introduction: \"\",\n        followshipCreatedAt: \"\",\n        isFollowed: false\n      }\n    };\n  },\n  methods: {\n    fetchData() {\n      this.following = {...this.initialFollowing}\n    },\n    async follow(id) {\n      try {\n        const response = await followshipAPI.follow({id})\n        if(response.statusText !== 'OK') {\n          throw new Error(response.statusText)\n        }\n        this.following = {\n        ...this.following,\n        isFollowed: true\n      };\n\n      } catch(error) {\n        console.log(error)\n        Toast.fire({\n          icon: 'error',\n          title: '無法成功跟隨，請稍後再試'\n        })\n      }\n    },\n    async unfollow(id) {\n      try {\n        const response = await followshipAPI.unfollow({id})\n        if(response.statusText !== 'OK') {\n          throw new Error(response.statusText)\n        }\n        this.following = {\n        ...this.following,\n        isFollowed: false\n      };\n\n      } catch(error) {\n        console.log(error)\n        Toast.fire({\n          icon: 'error',\n          title: '無法成功跟隨，請稍後再試'\n        })\n      }\n    }\n  },\n  created() {\n    this.fetchData();\n  },\n  watch: {\n    initialFollowing(newValue) {\n      this.following = newValue\n    }\n  }\n};\n</script>\n\n<style scoped>\n.following {\n  width: 100%;\n  border-top: 1px solid #e6ecf0;\n  border-bottom: 1px solid #e6ecf0;\n  position: relative;\n  padding: 12px 15px 10px 15px;\n  border-left: 1px solid #e6ecf0;\n  border-right: 1px solid #e6ecf0;\n}\n\n.info {\n  width: 100%;\n}\n\n.follow-badge {\n  position: absolute;\n  top: 12px;\n  right: 15px;\n}\n\n.image-cropper {\n  width: 50px;\n  height: 50px;\n  position: relative;\n  overflow: hidden;\n  border-radius: 50%;\n  margin-right: 10px;\n}\n\n.info-text {\n  width: calc(100% - 50px);\n}\n\n.info-text .name {\n  line-height: 12px;\n}\n\n.info-text p {\n  margin-bottom: 0;\n}\n\n.info-text .account {\n  color: #657786\n}\n\n.avatar {\n  width: auto;\n  display: inline;\n  height: 100%;\n}\n\n.badge-pill {\n  padding: 7px 16px;\n  cursor: pointer;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Following.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Following.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Following.vue?vue&type=template&id=3a492158&scoped=true&\"\nimport script from \"./Following.vue?vue&type=script&lang=js&\"\nexport * from \"./Following.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Following.vue?vue&type=style&index=0&id=3a492158&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a492158\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"container\">\n    <div id=\"navbar-area\" class=\"navbar-area\">\n      <!-- 插入 Navbar -->\n      <Navbar />\n    </div>\n\n    <div id=\"main-area\" class=\"main-area\">\n      <div class=\"upper-area d-flex align-items-top\">\n        <div class=\"upper-area-content d-flex align-items-center\">\n          <router-link\n            :to=\"{\n              name: 'user-profile',\n              params: { id: user.id },\n            }\"\n          >\n            <span class=\"mr-4\" style=\"color: #000000\">&larr;</span>\n          </router-link>\n\n          <div class=\"user\">\n            <strong class=\"name\">{{ user.name }}</strong>\n            <p class=\"tweets-count small\">{{ user.tweetsCount }} 推文</p>\n          </div>\n        </div>\n      </div>\n      <main>\n        <ul class=\"nav nav-tabs\">\n          <li class=\"nav-item\" @click.stop.prevent=\"toggleTab('followers')\">\n            <router-link\n              :to=\"{\n                name: 'user-followlist',\n                params: { id: user.id, followship: 'followers' },\n              }\"\n              class=\"nav-link\"\n              >追隨者</router-link\n            >\n          </li>\n          <li class=\"nav-item\" @click.stop.prevent=\"toggleTab('followings')\">\n            <router-link\n              :to=\"{\n                name: 'user-followlist',\n                params: { id: user.id, followship: 'followings' },\n              }\"\n              class=\"nav-link\"\n              >正在追隨</router-link\n            >\n          </li>\n        </ul>\n\n        <div class=\"followers-panel\" v-if=\"nowTabbed === 'followers'\">\n          <!-- 拉取資料完成前顯示Spinner -->\n          <Spinner v-if=\"isLoading\" />\n\n          <!-- 無建立任何推文時，顯示註明文字 -->\n          <div class=\"no-data\" v-else-if=\"!isLoading && !followers.length\">\n            <h3>尚未有追隨者</h3>\n          </div>\n\n          <Follower\n            v-for=\"follower in followers\"\n            :key=\"follower.followerId\"\n            :initial-follower=\"follower\"\n          />\n        </div>\n        <div class=\"followings-panel\" v-if=\"nowTabbed === 'followings'\">\n          <!-- 拉取資料完成前顯示Spinner -->\n          <Spinner v-if=\"isLoading\" />\n\n          <!-- 無建立任何推文時，顯示註明文字 -->\n          <div class=\"no-data\" v-else-if=\"!isLoading && !followings.length\">\n            <h3>尚未有正在追隨者</h3>\n          </div>\n\n          <Following\n            v-for=\"following in followings\"\n            :key=\"following.followingId\"\n            :initial-following=\"following\"\n          />\n        </div>\n      </main>\n    </div>\n\n    <div id=\"follow-recommend-area\" class=\"follow-recommend-area\">\n      <FollowRecommend />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Navbar from \"../components/Navbar\";\nimport FollowRecommend from \"../components/FollowRecommend\";\nimport Follower from \"../components/Follower\";\nimport Following from \"../components/Following\";\nimport userAPI from \"../apis/users\";\nimport Spinner from \"../components/Spinner\";\nimport { Toast } from \"../utils/helpers\";\n\nexport default {\n  components: {\n    Navbar,\n    FollowRecommend,\n    Follower,\n    Following,\n    Spinner,\n  },\n  data() {\n    return {\n      followers: [],\n      followings: [],\n      user: {},\n      userTweetsCount: -1,\n      nowTabbed: this.$route.params.followship,\n      isLoading: true,\n    };\n  },\n  methods: {\n    async fetchUser(id) {\n      try {\n        const response = await userAPI.readUser({ id });\n        if (response.statusText !== \"OK\") {\n          throw new Error(response.statusText);\n        }\n\n        const { data } = response;\n        this.user = {\n          ...this.user,\n          ...data,\n        };\n      } catch (error) {\n        console.log(error);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得使用者資料，請稍後再試\",\n        });\n      }\n    },\n    async fetchFollowers(id) {\n      try {\n        const response = await userAPI.readFollowers({ id });\n        if (response.statusText !== \"OK\") {\n          throw new Error(response.statusText);\n        }\n\n        const { data } = response;\n        this.followers = [...data];\n        this.isLoading = false;\n      } catch (error) {\n        this.isLoading = false;\n        console.log(error);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得跟隨者資料，請稍後再試\",\n        });\n      }\n    },\n    async fetchFollowings(id) {\n      try {\n        const response = await userAPI.readFollowings({ id });\n        if (response.statusText !== \"OK\") {\n          throw new Error(response.statusText);\n        }\n\n        const { data } = response;\n        this.followings = [...data];\n        this.isLoading = false;\n      } catch (error) {\n        this.isLoading = false;\n        console.log(error);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得跟隨中資料，請稍後再試\",\n        });\n      }\n    },\n    toggleTab(item) {\n      this.nowTabbed = item;\n    },\n  },\n  created() {\n    const { id } = this.$route.params;\n    this.fetchUser(id);\n    this.fetchFollowers(id);\n    this.fetchFollowings(id);\n  },\n  beforeRouteUpdate(to, from, next) {\n    const { id } = to.params;\n    this.fetchUser(id);\n    this.fetchFollowers(id);\n    this.fetchFollowings(id);\n    next();\n  },\n  // 當使用者追隨某人時，同步就重新拉一次資料到followings當中\n  watch: {\n    followings() {\n      const { id } = this.$route.params;\n      this.fetchFollowings(id);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.upper-area-content {\n  display: flex;\n  align-items: top;\n  padding-left: 15px;\n}\n\n.upper-area-content p {\n  margin: 0;\n  line-height: 10px;\n}\n\n.name {\n  line-height: 19px;\n  font-size: 19px;\n}\n\n.tweets-count {\n  color: #657786;\n}\n\n.nav {\n  border-left: 1px solid #e6ecf0;\n  border-right: 1px solid #e6ecf0;\n}\n\n.nav-link.active {\n  border: hidden;\n  border-bottom: 2px solid #ff6600;\n  color: #ff6600;\n}\n\n.nav-link {\n  color: #657786;\n}\n\n.no-data {\n  width: 100%;\n  height: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #657786;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowList.vue?vue&type=template&id=6f48e8fe&scoped=true&\"\nimport script from \"./UserFollowList.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserFollowList.vue?vue&type=style&index=0&id=6f48e8fe&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f48e8fe\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowList.vue?vue&type=style&index=0&id=6f48e8fe&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Follower.vue?vue&type=style&index=0&id=c5d12ac4&scoped=true&lang=css&\""],"sourceRoot":""}